{"remainingRequest":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tony/work/nas_mydisk/branches/UTG/web/src/views/home/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/src/views/home/index.vue","mtime":1696662095000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/cache-loader/dist/cjs.js","mtime":1696662092000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/thread-loader/dist/cjs.js","mtime":1696662095000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/babel-loader/lib/index.js","mtime":1696662091000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/cache-loader/dist/cjs.js","mtime":1696662092000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/vue-loader/lib/index.js","mtime":1696662095000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICJAL3V0aWxzL2RhdGUiOwppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJwppbXBvcnQgeyBsb2dpbixzcGFjZXMsZmlsZUxpc3QsaGVsbG8sZG93bmxvYWQsZGVsZXRlcyxyZWZyZXNoX3Rva2VuLGNsZWFyQ2FjaGV9IGZyb20gIkAvYXBpL2hvbWUiOwppbXBvcnQgU3RyZWFtU2F2ZXIgZnJvbSAnc3RyZWFtc2F2ZXInOwppbXBvcnQgeyBldGhlcnMgfSBmcm9tICdldGhlcnMnOwppbXBvcnQgKiBhcyB0dXMgZnJvbSAidHVzLWpzLWNsaWVudCI7CnZhciBjc3MgPXdpbmRvdy5sb2NhdGlvbi5ob3N0CmNvbnN0IHVybHM9Imh0dHA6Ly8iK2Nzcy5zcGxpdCgnOicpWzBdKyAiOiIgKyB3aW5kb3cubG9jYXRpb24ucG9ydAovLyBjb25zdCB1cmxzPSJodHRwOi8vMTkyLjE2OC40Ljg1OjgwODAiCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaG9tZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGVzOiBbCiAgICAgICAgewogICAgICAgICAgbmFtZToi5rWL6K+VIiwKICAgICAgICAgIGZhbHNlVHlwZToxLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZToi5rWL6K+VMiIsCiAgICAgICAgICBmYWxzZVR5cGU6MSwKICAgICAgICB9CiAgICAgIF0sCiAgICAgIG1vZGVsU2hvdzogZmFsc2UsCiAgICAgIG1vZGVsVGV4dDoxLAogICAgICBpbnB1dFNob3c6ZmFsc2UsCiAgICAgIGZvcm1hdChwZXJjZW50YWdlKSB7CiAgICAgICAgcmV0dXJuIHBlcmNlbnRhZ2UgPT09IDEwMCA/ICcnIDogYCR7cGVyY2VudGFnZX0lYDsKICAgICAgfSwKICAgICAgc3BhY2VOYW1lOltdLAogICAgICBzcGFjZXNEYXRhOnt9LAogICAgICBpbnB1dHR5cGU6JzEyMjMnLAogICAgICBmaWxlRGF0YTpbXSwKICAgICAgZmlsZWluZzpbXSwKICAgICAgdG9wTmFtZTonJywKICAgICAgZmlsZWpkOnsKICAgICAgICBqaW5kdTowLAogICAgICAgIG5hbWU6JycKICAgICAgfSwKICAgICAgdXNlclBrczonJywKICAgICAgcmVudF92b3VjaGVyOicnLAogICAgICBwdWJrZXk6JycsCiAgICAgIHVwbG9hZDpudWxsLAogICAgICBmbGludWJlcjp0cnVlLAogICAgICB1cGxvYWRsaXN0OltdLAogICAgICBlbGlzdDpbXSwKICAgICAgdGFza1F1ZXVlOltdCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGlmKGdldFRva2VuKCk9PXVuZGVmaW5lZCl7CiAgICAgIHRoaXMuY29ubmVjdCgpOwoKICAgIH1lbHNlewogICAgICB0aGlzLnNwYWNlcygpCiAgICAgIHRoaXMudXNlclBrcz1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlclBrcyIpOwogICAgfQogIH0sCiAgZmlsdGVyczogewogICAgZm9ybWF0Q3JlYXRlVGltZSh0aW1lKSB7CiAgICAgIGxldCBkYXRlID0gbmV3IERhdGUodGltZSAqIDEwMDApOwogICAgICAvLyBsZXQgZGF0ZSA9IG5ldyBEYXRlKHRpbWUpOwogICAgICAvLyBjb25zb2xlLmxvZyhkYXRlLCdkYXRlJykKICAgICAgbGV0IGRhdGVzID0gZGF0ZS5nZXREYXRlKCkKICAgICAgLy8gY29uc29sZS5sb2coZGF0ZXMsJ2dldERhdGUoKScpCiAgICAgIHJldHVybiBmb3JtYXREYXRlKGRhdGUsICJ5eXl5LU1NLWRkIGhoOm1tOnNzIik7CiAgICAgIC8vIHJldHVybiBmb3JtYXREYXRlKGRhdGUsICJ5eXl5LU1NLWRkIik7CiAgICB9LAogICAgcGFyc2VGaWxlU2l6ZShzKSB7CiAgICAgIGlmIChzIDwgMTAyNCkgewogICAgICAgIHJldHVybiBzICsgImciCiAgICAgIH0gZWxzZSBpZiAocyA8IDEwMjQgKiAxMDI0KSB7CiAgICAgICAgcmV0dXJuIChzIC8gMTAyNCkudG9GaXhlZCgxKSArICJLIgogICAgICB9IGVsc2UgaWYgKHMgPCAxMDI0ICogMTAyNCAqIDEwMjQpIHsKICAgICAgICByZXR1cm4gKHMgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgxKSArICJNIgogICAgICB9ZWxzZSBpZihzPCAxMDI0ICogMTAyNCAqIDEwMjQgKiAxMjA0KXsKICAgICAgICByZXR1cm4gKHMgLyAxMDI0IC8gMTAyNCAvIDEwMjQpLnRvRml4ZWQoMSkgKyAiRyIKICAgICAgfWVsc2V7CiAgICAgICAgcmV0dXJuIChzIC8gMTAyNCAvIDEwMjQgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgxKSArICJUIgogICAgICB9CgogICAgfSwKICBmaWxlVHlwZU5hbWUobmFtZSl7CiBsZXQgaW5kZXg9IG5hbWUubGFzdEluZGV4T2YoIi4iKTsKLy8gY29uc29sZS5sb2coaW5kZXgsJ2luZGV4JykKLy/ojrflj5blkI7nvIAKbGV0IHZhcmV4dCA9IG5hbWUuc3Vic3RyaW5nKGluZGV4KzEpOwppZihpbmRleD09LTEpewogIHJldHVybiAiQ2F0YWxvZ3VlIgp9ZWxzZXsKICByZXR1cm4gdmFyZXh0Cn0KICB9LAp9LAogIG1ldGhvZHM6IHsKICAgLy8g5L2/55So5b+r6YCf5o6S5bqP5a+55pWw57uE6L+b6KGM5o6S5bqPCiAgICBkZWxldGV1bnBsb2RlKGl0ZW0saW5kZXgpewogICAgICB0aGlzLnVwbG9hZGxpc3Quc3BsaWNlKGluZGV4LCAxKQogICAgfSwKICAgIHFhc3hmcyhpdGVtLGluZGV4KXsKICAgICAgY29uc29sZS5sb2codGhpcy50YXNrUXVldWUsJ3RoaXMudGFza1F1ZXVlJykKICAgICAgY29uc29sZS5sb2coaW5kZXgsaXRlbSwnaW5kZXgnKQogICAgICAvL25ld+abtOaUueS6hgogICAgICB0aGlzLnRhc2tRdWV1ZVtpbmRleF0uYWJvcnQoKQogICAgICAvLyB0aGlzLnVwbG9hZGxpc3Quc3BsaWNlKGluZGV4LCAxKQogICAgICBpdGVtLmZsaW51YmVyPWZhbHNlCiAgICAgIC8vIHRoaXMucmVub3ZhdGUoKQogICAgfSwKICAgIC8vbmV35pu05pS55LqGCiAgICByZXN1bWUoaXRlbSxpbmRleCl7CiAgICAgICBpdGVtLmZsaW51YmVyPXRydWUKICAgICAgdGhpcy50YXNrUXVldWVbaW5kZXhdLnN0YXJ0KCkKICAgICAgLy8gdGhpcy5zdGFydE9yUmVzdW1lVXBsb2FkKHRoaXMudGFza1F1ZXVlW2luZGV4XSkKICAgIH0sCiAgLy/mgaLlpI3kuIvovb0KICBzdGFydE9yUmVzdW1lVXBsb2FkKHVwbG9hZCl7CiAgICB1cGxvYWQuZmluZFByZXZpb3VzVXBsb2FkcygpLnRoZW4oZnVuY3Rpb24gKHByZXZpb3VzVXBsb2FkcykgewogICAgICAgIC8vIEZvdW5kIHByZXZpb3VzIHVwbG9hZHMgc28gd2Ugc2VsZWN0IHRoZSBmaXJzdCBvbmUuCiAgICAgICAgY29uc29sZS5sb2cocHJldmlvdXNVcGxvYWRzLCdwcmV2aW91c1VwbG9hZHMnKQogICAgICAgIGlmIChwcmV2aW91c1VwbG9hZHMubGVuZ3RoKSB7CiAgICAgICAgICAgIHVwbG9hZC5yZXN1bWVGcm9tUHJldmlvdXNVcGxvYWQocHJldmlvdXNVcGxvYWRzWzBdKQogICAgICAgIH0KICAgICAgICAvLyBTdGFydCB0aGUgdXBsb2FkCiAgICAgICAgdXBsb2FkLnN0YXJ0KCkKICAgIH0pCiAgfSwKICAvL+a4healmue8k+WtmAogIHJlbm92YXRlKCl7CiAgICB0aGlzLiRjb25maXJtKCdEbyB5b3Ugd2FudCB0byBjb250aW51ZT8nLCAnUG9pbnRPdXQnLCB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ0RlZmluZScsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnQ2FuY2VsJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5jbGVhckNhY2hlKCkKICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgfSk7CiAgfSwKICBjbGVhckNhY2hlKCl7CiAgICBsZXQgZGF0YT17CiAgICAgIHJlbnRfdm91Y2hlcjp0aGlzLnJlbnRfdm91Y2hlciwKICAgICAgcHVia2V5OnRoaXMuc3BhY2VzRGF0YS5wdWJrZXkKICAgIH0KICAgIGNsZWFyQ2FjaGUoZGF0YSkudGhlbihyZXNwb25zZT0+ewogICAgICB0aGlzLnRhc2tRdWV1ZS5tYXAoaXRlbT0+ewogICAgICAgIGl0ZW0uYWJvcnQoKQogICAgICB9KQogICAgICB0aGlzLmZpbGVMaXN0KCkKICAgICAgdGhpcy5zcGFjZXMoKQogICAgICB0aGlzLnVwbG9hZGxpc3Q9W10KICAgICAgdGhpcy50YXNrUXVldWU9W10KICAgICAgfSkKICB9LAogICAvL+WIoOmZpOaWh+S7tgogICBkZWxldGVCdG5zKCl7CiAgICBsZXQgZGF0YT17CiAgICAgICAgcGF0aHM6W10KICAgICAgfQogICAgdGhpcy5maWxlaW5nLm1hcChpdGVtPT57CiAgICAgIGRhdGEucGF0aHMucHVzaChpdGVtLnBhdGgpCiAgICB9KQogICAgICBkZWxldGVzKGRhdGEpLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICBpZihyZXNwb25zZS5kYXRhLmNvZGU9PTQwMSl7CiAgICAgICAgICAgdGhpcy5yZWZyZXNoX3Rva2VuKCk7CiAgICAgICAgIH1lbHNlewogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UsJ+WIoOmZpOaIkOWKnycpCiAgICAgICAgICB0aGlzLmZpbGVMaXN0KCkKICAgICAgICAgIHRoaXMuc3BhY2VzKCkKICAgICAgICAgfQogICAgICB9KQogICAgfSwKCgogICAgbW9kZWxCdG4obW9kZWxTaG93KXsKICAgICAgdGhpcy5tb2RlbFNob3c9IW1vZGVsU2hvdwoKICAgIH0sCiAgICAvL+ajgOa1i+mSseWMhQogICAgdGVzdGluZygpewogICAgICAvLyBjb25zb2xlLmxvZyh3aW5kb3cuZXRoZXJldW0sJ3dpbmRvdy5ldGhlcmV1bScpOwogICAgICBpZiAodHlwZW9mIHdpbmRvdy5ldGhlcmV1bSA9PT0gJ3VuZGVmaW5lZCcpIHsKCSAgICAgICAgYWxlcnQoIlBsZWFzZSBpbnN0YWxsIE1ldGFNYXNrLiIpOwoKICAgICAgfSBlbHNlIHsKCS8vIGFwcCBpbml0IGNvZGUKICAgIH0KICAgIH0sCiAgICAvL+i/nuaOpemSseWMhQogICAgY29ubmVjdCgpewogICAgIHRoaXMudGVzdGluZygpOwogICAgLy8gIGNvbnNvbGUubG9nKCJyZXF1ZXN0XyIpCiAgICAgZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9yZXF1ZXN0QWNjb3VudHMnIH0pLnRoZW4ocmVzYmFzPT57CiAgICAgIC8vICBjb25zb2xlLmxvZyhyZXNiYXMsJ3Jlc2JhcycpCiAgICAgICB0aGlzLmhhbmRsZUFjY291bnRzQ2hhbmdlZChyZXNiYXMpCiAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IDQwMDEpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgY29ubmVjdCB0byBNZXRhTWFzay4nKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGhhbmRsZUFjY291bnRzQ2hhbmdlZChhY2NvdW50cyl7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyUGtzIik7CiAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGV0aGVycy5wcm92aWRlcnMuV2ViM1Byb3ZpZGVyKHdpbmRvdy5ldGhlcmV1bSk7CiAgICAgIGF3YWl0IHByb3ZpZGVyLnNlbmQoImV0aF9yZXF1ZXN0QWNjb3VudHMiLCBbXSkKICAgICAgLy8gY29uc29sZS5sb2cocHJvdmlkZXIucHJvdmlkZXIsJzExMTExMTExMTExMTEnKQogICAgICAvL+ebkeWQrOmSseWMhei0puWPt+WIh+aNogogICAgICBwcm92aWRlci5wcm92aWRlci5vbignYWNjb3VudHNDaGFuZ2VkJywgZnVuY3Rpb24gKGFjY291bnRzKSB7CiAgICAgICAgY29uc29sZS5sb2coYWNjb3VudHMsJ2FjY291bnRzJykKICAgICAgICByZW1vdmVUb2tlbigpOwogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpCiAgICAgICAgLy8gIGFsZXJ0KCfliIfmjaLotKblj7cnKQogICAgICB9KQogICAgICBjb25zdCBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsgLy/ojrflj5bnrb7lkI3ogIXkv6Hmga8KICAgICAgLy8gIGNvbnNvbGUubG9nKHNpZ25lciwnc2lnbmVyJykKICAgICAgLy/pkrHljIXlnLDlnYAKICAgICAgIGxldCB1c2VyUGsgPW51bGw7CiAgICAgICB1c2VyUGs9IGF3YWl0IHNpZ25lci5nZXRBZGRyZXNzKCk7CiAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlclBrcyIsIHVzZXJQayk7CiAgICAgICB0aGlzLnVzZXJQa3M9bG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJQa3MiKTsKICAgICAgLy8gIGNvbnNvbGUubG9nKHVzZXJQaywndXNlclBrJykKICAgICAgIC8v55Sf5oiQ6ZqP5py65pWwCiAgICAgICBsZXQgZGF0YT1NYXRoLnJhbmRvbSgpKjEwCiAgICAgICAgICAgZGF0YT1kYXRhLnRvU3RyaW5nKCkKICAgICAgIGxldCBjaGFsbGVuZ2U9bnVsbAogICAgICAgIGhlbGxvKCkudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgZGF0YStyZXNwb25zZS5kYXRhLmNoYWxsZW5nZQogICAgICAgICAgY2hhbGxlbmdlPXJlc3BvbnNlLmRhdGEuY2hhbGxlbmdlCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSwn5ZCO5Y+w57uZ55qE6ZqP5py65pWwJykKICAgICAgICB9KQogICAgICAgbGV0IHNpZ25hdHVyZSA9IGF3YWl0IHNpZ25lci5zaWduTWVzc2FnZShkYXRhKQogICAgICAvLyAgY29uc29sZS5sb2coc2lnbmF0dXJlLCdzaWduYXR1cmUnKQogICAgICBsZXQgYWNjb3VudD1udWxsCiAgICAgIGlmIChhY2NvdW50cy5sZW5ndGggPT09IDApIHsKICAgICAgICBhbGVydCgnUGxlYXNlIGNvbm5lY3QgdG8gTWV0YU1hc2suJyk7CiAgICAgIAl9IGVsc2UgaWYgKGFjY291bnRzWzBdICE9PSBhY2NvdW50KSB7CgkgICAgICAgCWFjY291bnQgPSBhY2NvdW50c1swXTsKCSAgICB9CiAgICAgIC8v6aqM6K+B55m75b2VCiAgICAgIGxldCBkYXRhcz17CiAgICAgICAgICBkYXRhOmRhdGEsCiAgICAgICAgICBzaWduOnRoaXMuZ2V0Q2FwdGlvbihzaWduYXR1cmUpLAogICAgICAgICAgcHVia2V5OnVzZXJQaywKICAgICAgICAgIGNoYWxsZW5nZTpjaGFsbGVuZ2UKICAgICAgfQogICAgICByZW1vdmVUb2tlbigpCiAgICAgIC8vIGNvbnNvbGUubG9nKGdldFRva2VuKCksJ2dldFRva2VuKCknKQogICAgICAgIGF3YWl0IGxvZ2luKGRhdGFzKS50aGVuKHJlc3BvbnNlPT57CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UsJ+eZu+W9leaIkOWKnycpCiAgICAgICAgc2V0VG9rZW4oIHJlc3BvbnNlLmRhdGEudG9rZW4pOwogICAgICAgICB0aGlzLnNwYWNlcygpOwogICAgICAgICB0aGlzLmZpbGVMaXN0KCkKICAgICAgfSkKICAgIH0sCiAgICBnZXRDYXB0aW9uIChvYmopIHsKICAgIGNvbnN0IHJlcyA9IG9iai5zdWJzdHJpbmcoMiwgb2JqLmxlbmd0aCkKICAgIHJldHVybiByZXMKICAgIH0sCiAgICAgc3BhY2VzKCl7CiAgICAgIHNwYWNlcygpLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5jb2RlPT00MDEpewogICAgICAgICB0aGlzLmNvbm5lY3QoKTsKICAgICAgICAvLyAgdGhpcy5zcGFjZXMoKTsKICAgICAgICAgfWVsc2UgaWYocmVzcG9uc2UuZGF0YS5jb2RlPT0yMDApewogICAgICAgIGlmKHJlc3BvbnNlLmRhdGEuc3BhY2VzLmxlbmd0aD4wKXsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfov5vmnaXkuoYnKQogICAgICAgICAgbGV0IGxpc3Q9W107CiAgICAgICAgICByZXNwb25zZS5kYXRhLnNwYWNlcy5tYXAoaXRlbT0+ewogICAgICAgICAgbGV0IGRhdGFsaXN0PXsKICAgICAgICAgICAgY3JlYXRlZF9hdDppdGVtLmNyZWF0ZWRfYXQsCiAgICAgICAgICAgIGRlYWRsaW5lOml0ZW0uZGVhZGxpbmUsCiAgICAgICAgICAgIGR1cmF0aW9uOiBpdGVtLmR1cmF0aW9uLAogICAgICAgICAgICBwdWJrZXk6aXRlbS5wdWJrZXksCiAgICAgICAgICAgIHJvb3Q6aXRlbS5yb290LAogICAgICAgICAgICB0b3BOYW1lOml0ZW0ucm9vdC5zdWJzdHJpbmcoMSksCiAgICAgICAgICAgIHNpemU6aXRlbS5zaXplLAogICAgICAgICAgICB0aWNrZXQ6aXRlbS50aWNrZXQsCiAgICAgICAgICAgIHVzZWQ6aXRlbS51c2VkLAogICAgICAgICAgICBqaW5kdTpwYXJzZUZsb2F0KGl0ZW0udXNlZCkgLyBwYXJzZUZsb2F0KGl0ZW0uc2l6ZSkgKiAxMDAwIC8gMTAsCiAgICAgICAgICAgIHZvdWNoZXI6aXRlbS52b3VjaGVyLnRvU3RyaW5nKCkKICAgICAgICAgIH0KICAgICAgICAgIGxpc3QucHVzaChkYXRhbGlzdCkKICAgICAgICB9KQogICAgICAgIHRoaXMuc3BhY2VOYW1lPWxpc3QKICAgICAgICB0aGlzLnJlbnRfdm91Y2hlcj0gbGlzdFswXS52b3VjaGVyOwogICAgICAgIHRoaXMucHVia2V5PSBsaXN0WzBdLnB1YmtleTsKICAgICAgICBpZih0aGlzLnNwYWNlc0RhdGEucm9vdD09IiJ8fHRoaXMuc3BhY2VzRGF0YS5yb290PT11bmRlZmluZWQpewogICAgICAgICAgdGhpcy5zcGFjZXNEYXRhPWxpc3RbMF07CiAgICAgICAgIHRoaXMudG9wTmFtZT0gdGhpcy5zcGFjZXNEYXRhLnJvb3Quc3Vic3RyaW5nKDEpOwogICAgICAgIH0KICAgICAgICB0aGlzLmZpbGVMaXN0KCkKICAgICAgICB9CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAvLyAgY29uc29sZS5sb2coJ+WHuuWOu+S6hicpCiAgICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvLyDpvKDmoIfnp7vlhaUKICAgIG9uTW91c2VPdmVyKGl0ZW0pewogICAgICB0aGlzLmZpbGVEYXRhLm1hcCgoaXRlbXM9PnsKICAgICAgICAgICAgaWYoaXRlbS5wYXRoPT09aXRlbXMucGF0aCl7CiAgICAgICAgICAgICAgaXRlbS5vbk1vdXNlU2hvdyA9IWl0ZW0ub25Nb3VzZVNob3cKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgaXRlbXMub25Nb3VzZVNob3c9ZmFsc2UKICAgICAgICAgICAgfQogICAgICAgIH0pKQogICAgfSwKICAgIC8vIOm8oOagh+enu+WHugogICAgb25Nb3VzZU91dChpdGVtKXsKICAgICAgdGhpcy5maWxlRGF0YS5tYXAoKGl0ZW1zPT57CiAgICAgICAgICAgIGlmKGl0ZW0ucGF0aD09PWl0ZW1zLnBhdGgpewogICAgICAgICAgICAgIGl0ZW0ub25Nb3VzZVNob3cgPSFpdGVtLm9uTW91c2VTaG93CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgIGl0ZW1zLm9uTW91c2VTaG93PWZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICB9KSkKICAgIH0sCiAgIC8v5paH5Lu25LiK5LygCiAgIGhhbmRsZVN1Ym1pdCgpewogICAgIHRoaXMuJHJlZnMuYXZhdGFySW5wdXQuY2xpY2soKQogICB9LAogICBjaGFuZ2Vmb2xpZShlKXsKICAgIGNvbnNvbGUubG9nKGUsJ2UnKQogICAgdGhpcy5lbGlzdD1lLnRhcmdldC5maWxlcwogICAgICBPYmplY3Qua2V5cyhlLnRhcmdldC5maWxlcykuZm9yRWFjaCgoa2V5KT0+ewogICAgICAvLyBsZXQgc2l6ZT10aGlzLnNwYWNlc0RhdGEuc2l6ZS10aGlzLnNwYWNlc0RhdGEudXNlZAogICAgICAvLyBjb25zb2xlLmxvZyhzaXplKyfliankvZnnqbrpl7QnLGUudGFyZ2V0LmZpbGVzW2tleV0uc2l6ZSsn5pys5qyh5LiK5Lyg55qE5paH5Lu25aSn5bCPJykKICAgICAgICAgICAgLy8gaWYoZS50YXJnZXQuZmlsZXNba2V5XS5zaXplPnNpemUpewogICAgICAgICAgICAvLyAgIHRoaXMuJGFsZXJ0KCdPdXQgb2Ygc3BhY2UgYW5kIG1lbW9yeSDor7fmn6XnnIvnqbrpl7TmmK/lkKbotrPlpJ8nLCAnUG9pbnRPdXQnLCB7CiAgICAgICAgICAgIC8vICAgY29uZmlybUJ1dHRvblRleHQ6ICdEZWZpbmUnLAogICAgICAgICAgICAvLyAgIGNhbGxiYWNrOiBhY3Rpb24gPT4gewogICAgICAgICAgICAvLyAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgLy8gICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgIC8vICAgICAgbWVzc2FnZTonQ2FuY2VsRG93bmxvYWQnCiAgICAgICAgICAgIC8vICAgfSk7CiAgICAgICAgICAgIC8vICB9CiAgICAgICAgICAgIC8vICB9KTsKICAgICAgICAgICAgLy8gIHRoaXMuZmlsZUxpc3QoKQogICAgICAgICAgICAvLyAgdGhpcy5zcGFjZXMoKQogICAgICAgICAgICAvLyAgcmV0dXJuCiAgICAgICAgICAgIC8vIH1lbHNlewogICAgICAgICAgIGxldCB1cGxvYWRkYXRhPXsKICAgICAgICAgICAgICAgbmFtZTp0aGlzLmVsaXN0W2tleV0ubmFtZSwKICAgICAgICAgICAgICAgZmlsZXM6dGhpcy5lbGlzdFtrZXldLAogICAgICAgICAgICAgICByYXRlOjAsCiAgICAgICAgICAgICAgIGtleXM6a2V5LAogICAgICAgICAgICAgICBmbGludWJlcjp0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICB0aGlzLnVwbG9hZGxpc3QucHVzaCh1cGxvYWRkYXRhKTsKICAgICAgICAgICB0aGlzLnVwbG9hZHModGhpcy5lbGlzdFtrZXldKQogICAgICAgICAgICAvLyB9CiAgICB9KQogICAgdGhpcy4kcmVmcy5hdmF0YXJJbnB1dC52YWx1ZT1udWxsOwogICB9LAogIC8vICDmlofku7bkuIrkvKAKICBhc3luYyB1cGxvYWRzKGZhbHNlZGUpewogICAgbGV0IHRoYXQ9dGhpcwogICAgbGV0IHJvb3Q9dGhhdC5zcGFjZXNEYXRhLnJvb3Quc3Vic3RyaW5nKDEsIHRoYXQuc3BhY2VzRGF0YS5yb290Lmxlbmd0aCkKICAgIGxldCBmaWxlPWZhbHNlZGUKICAgIC8vbmV3CiAgICAvL+WjsOaYjuWxgOmDqOWPmOmHjwogICAgbGV0IHVwbG9hZCA9IG5ldyB0dXMuVXBsb2FkKGZpbGUsewogICAgICAgIGVuZHBvaW50OiB1cmxzKycvdjEvZmlsZS91cGxvYWQnKyc/c3BhY2U9Jytyb290LAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAnQmVhcmVyJysnICcrIGdldFRva2VuKCkKICAgICAgICB9LAogICAgICAgIC8vIHJldHJ5RGVsYXlzOiBbMCwgMzAwMCwgNTAwMCwgMTAwMDAsIDIwMDAwXSwKICAgICAgICByZXRyeURlbGF5czogW10sCiAgICAgICAgbWV0YWRhdGE6IHsKICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGUubmFtZSwKICAgICAgICAgICAgdGFyZ2V0UGF0aDogdGhhdC5zcGFjZXNEYXRhLnJvb3QsCiAgICAgICAgICAgIHB1YmtleTogdGhhdC5zcGFjZXNEYXRhLnB1YmtleQogICAgICAgIH0sCiAgICAgICAgb25FcnJvcjogZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIkZhaWxlZCBiZWNhdXNlOiAiICsgZXJyb3IpCiAgICAgICAgICAgIHRoYXQuJGFsZXJ0KCdPdXQgb2Ygc3BhY2UgYW5kIG1lbW9yeS5UaGUgY3VycmVudCB1cGxvYWQgdGFzayB3aWxsIGZhaWwuIFBsZWFzZSBjbGVhciB0aGUgY2FjaGUgYW5kIHJlY3JlYXRlIHRoZSB0YXNrJywgJ1BvaW50T3V0JywgewogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ0RlZmluZScsICAKICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAvLyAgY29uc29sZS5sb2coJ+eCueWHu+S6huehruWumicpCiAgICAgICAgICAgIC8vIHRoYXQuY2xlYXJDYWNoZSgpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICB0aGF0LnVwbG9hZGxpc3Q9W10KICAgICAgICB9LAogICAgICAgIG9uUHJvZ3Jlc3M6IGZ1bmN0aW9uKGJ5dGVzVXBsb2FkZWQsIGJ5dGVzVG90YWwpIHsKICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSAoYnl0ZXNVcGxvYWRlZCAvIGJ5dGVzVG90YWwgKiAxMDApLnRvRml4ZWQoMCkvL+S4i+i9vei/m+W6pgogICAgICAgICAgICB0aGF0LnVwbG9hZGxpc3QubWFwKChpdGVtLGluZGV4KT0+ewogICAgICAgICAgICAgIGlmKGl0ZW0ubmFtZT09ZmlsZS5uYW1lKXsKICAgICAgICAgICAgICAgIGl0ZW0ucmF0ZT1OdW1iZXIocGVyY2VudGFnZSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYoaXRlbS5yYXRlPT0xMDApewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgICAgICAgICAgdGhhdC5maWxlTGlzdCgpCiAgICAgICAgICAgICAgICB0aGF0LnNwYWNlcygpOwogICAgICAgICAgICAgICAgdGhhdC51cGxvYWRsaXN0LnNwbGljZShpbmRleCwgMSkKICAgICAgICAgICAgICB9LDMwMDApCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICB9LAogICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEb3dubG9hZCAlcyBmcm9tICVzIiwgdXBsb2FkLmZpbGUubmFtZSwgdXBsb2FkLnVybCkKICAgICAgICB9CiAgICB9KQogICAgLy9uZXcKICAgIC8vIOavj+eUn+S6p+S4gOS4quWunuS+i+aOqOWFpemYn+WIlwogICAgdGhpcy50YXNrUXVldWUucHVzaCh1cGxvYWQpCiAgICB1cGxvYWQuc3RhcnQoKQogICAgLy8gIHRoYXQudXBsb2FkLnN0YXJ0KCkKICAgfSwKICAgcmVtb3ZlRHVwbGljYXRlT2JqKGFycikgewogICAgICBsZXQgb2JqID0ge307CiAgICAgIGFyciA9IGFyci5yZWR1Y2UoKG5ld0FyciwgbmV4dCkgPT4gewogICAgICAgIG9ialtuZXh0LmxldHRlcl0gPyAiIiA6IChvYmpbbmV4dC5sZXR0ZXJdID0gdHJ1ZSAmJiBuZXdBcnIucHVzaChuZXh0KSk7CiAgICAgICAgcmV0dXJuIG5ld0FycjsKICAgICAgfSwgW10pOwogICAgICByZXR1cm4gYXJyOwogICAgfSwKICAgLy/ojrflj5bmlofku7bliJfooagKICAgZmlsZUxpc3QoKXsKICAgIGNvbnNvbGUubG9nKHRoaXMuc3BhY2VzRGF0YS5yb290LCd0aGlzLnNwYWNlc0RhdGEucm9vdCcpCiAgICAgbGV0IGRhdGE9ewogICAgICAgcGF0aDp0aGlzLnNwYWNlc0RhdGEucm9vdAogICAgIH0KICAgIGZpbGVMaXN0KGRhdGEpLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgaWYocmVzcG9uc2UuZGF0YS5jb2RlPT00MDEpewogICAgICAgICAgIHRoaXMuY29ubmVjdCgpOwogICAgICAgICB9ZWxzZXsKICAgICAgICAgIGxldCBsaXN0PVtdOwogICAgICAgIHJlc3BvbnNlLmRhdGEuZmlsZXMubWFwKGl0ZW09PnsKICAgICAgICAgIGxldCBkYXRhbGlzdD17CiAgICAgICAgICAgIGlzZGlyOml0ZW0uaXNkaXIsCiAgICAgICAgICAgIG5hbWU6aXRlbS5uYW1lLAogICAgICAgICAgICBwYXRoOml0ZW0ucGF0aCwKICAgICAgICAgICAgc2l6ZTppdGVtLnNpemUsCiAgICAgICAgICAgIHR5cGU6dGhpcy5maWxlVHlwZShpdGVtLm5hbWUpLAogICAgICAgICAgICBtb2RfdGltZTppdGVtLm1vZF90aW1lLAogICAgICAgICAgICBpc190YWc6aXRlbS5pc190YWcsCiAgICAgICAgICAgIG9uTW91c2VTaG93OmZhbHNlCiAgICAgICAgICB9CiAgICAgICAgICBsaXN0LnB1c2goZGF0YWxpc3QpCiAgICAgICAgfSkKICAgICAgICB0aGlzLmZpbGVEYXRhPWxpc3QKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZpbGVEYXRhLCfojrflj5bnmoTmlbDmja7liJfooagnKQogICAgICAgICB9CiAgICB9KQogICB9LAogIC8vICDliKTmlq3mlofku7bnsbvlnosKICBmaWxlVHlwZShuYW1lKXsKbGV0IGluZGV4PSBuYW1lLmxhc3RJbmRleE9mKCIuIik7Ci8v6I635Y+W5ZCO57yACmxldCB2YXJleHQgPSBuYW1lLnN1YnN0cmluZyhpbmRleCsxKTsKIGlmKHZhcmV4dD09J2pwZyd8fHZhcmV4dD09J3BuZyd8fHZhcmV4dD09J2pwZWcnfHx2YXJleHQ9PSdibXAnfHx2YXJleHQ9PSdnaWYnfHx2YXJleHQ9PSd3ZWJwJ3x8dmFyZXh0PT0ncHNkJ3x8dmFyZXh0PT0nc3ZnJ3x8dmFyZXh0PT0ndGlmZicpewogICByZXR1cm4gMQogfWVsc2UgaWYodmFyZXh0PT0nbXAzJyl7CiAgcmV0dXJuIDIKIH1lbHNlIGlmKHZhcmV4dD09J2V4ZScpewogIHJldHVybiAzCiB9ZWxzZSBpZih2YXJleHQ9PSd3b3JkJyl7CiAgcmV0dXJuIDQKIH1lbHNlIGlmKHZhcmV4dD09J3ppcCcpewogIHJldHVybiA1CiB9ZWxzZSBpZih2YXJleHQ9PSdtcDQnKXsKICByZXR1cm4gNwogfWVsc2V7CiAgcmV0dXJuIDYKIH0KICB9LAogIGNoYW5nZShpdGVtKSB7CiAgICAgIGl0ZW0uaXNfdGFnICE9IGl0ZW0uaXNfdGFnCiAgICAgIGxldCBhcnIgPSBbXTsKICAgICAgdGhpcy5maWxlRGF0YS5tYXAoKGl0ZW0gPT4gewogICAgICAgIGlmICghaXRlbS5pc190YWcpIHsKICAgICAgICAgIHRoaXMuaW5wdXRTaG93ID0gZmFsc2UKICAgICAgICB9CiAgICAgICAgaWYgKGl0ZW0uaXNfdGFnID09PSB0cnVlKSB7CiAgICAgICAgICBhcnIucHVzaChpdGVtKQogICAgICAgIH0KICAgICAgfSkpCiAgICAgIHRoaXMuZmlsZWluZyA9IGFycgogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZpbGVpbmcsJ3RoaXMuZmlsZWluZycpCiAgICAgIGlmKHRoaXMuZmlsZWluZy5sZW5ndGg9PXRoaXMuZmlsZURhdGEubGVuZ3RoKXsKICAgICAgICAgIHRoaXMuaW5wdXRTaG93PXRydWUKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5pbnB1dFNob3c9ZmFsc2UKICAgICAgfQogICAgICAvLyB2YXIgc2l6ZSA9IDAKICAgICAgLy8gdGhpcy5maWxlaW5nLmZvckVhY2goZmlsZSA9PiB7CiAgICAgIC8vICAgc2l6ZSArPSBmaWxlLnNpemUKICAgICAgLy8gfSk7CiAgICAgIC8vIHRoaXMuc2l6ZSA9IHNpemUKICAgIH0sCiAgICAvL+S4i+i9veaWh+S7tgogICAgb25Eb3dubG9hZEZpbGVzKGl0ZW0pewogICAgICBsZXQgZG9ud2xvYWR1cmw9IHVybHMrJy92MS9maWxlL2Rvd25sb2FkJwogICAgICAvLyAiaHR0cDovLzE5Mi4xNjguNC41Mzo4MDgwL3YxL2ZpbGUvZG93bmxvYWQiCiAgICAgIHRoaXMuZG93bmxvYWRGaWxlKGRvbndsb2FkdXJsICsgIj9wYXRoPSIgKyBpdGVtLnBhdGgsIGl0ZW0ubmFtZSkKICAgIH0sCiAgICBkb25nbG9kKCl7CiAgICAgIGxldCBkb253bG9hZHVybD11cmxzKycvdjEvZmlsZS9kb3dubG9hZCcKICAgICAgLy8gImh0dHA6Ly8xOTIuMTY4LjQuNTM6ODA4MC92MS9maWxlL2Rvd25sb2FkIgogICAgICB0aGlzLmZpbGVpbmcuZm9yRWFjaChmaWxlID0+IHsKICAgICAgICB0aGlzLmRvd25sb2FkRmlsZShkb253bG9hZHVybCArICI/cGF0aD0iICsgZmlsZS5wYXRoLCBmaWxlLm5hbWUpCiAgICAgIH0pOwogICAgfSwKICAgZG93bmxvYWRGaWxlKHVybCwgbmFtZSkgewogICAgIHRoaXMuJGF4aW9zKHsKICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgdXJsOnVybCwKICAgICAgaGVhZGVyczp7CiAgICAgICAgdG9rZW46ICdCZWFyZXInKycgJyArIGdldFRva2VuKCksCiAgICAgICAgJ0F1dGhvcml6YXRpb24nOidCZWFyZXInKycgJyArIGdldFRva2VuKCkKICAgICAgfSwKICAgICAgcmVzcG9uc2VUeXBlOiAiYmxvYiIKICAgICB9KS50aGVuKHJlcz0+ewogICAgICAgY29uc3QgYmxvYiA9bmV3IEJsb2IoW3Jlcy5kYXRhXSk7CiAgICAgICBjb25zdCBsaW5rID1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykKICAgICAgIGxpbmsuZG93bmxvYWQ9bmFtZQogICAgICAgbGluay5zdHlsZS5kaXNwbGF5PSJub25lIgogICAgICAgbGluay5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikKICAgICAgIGNvbnNvbGUubG9nKGxpbmsuaHJlZiwnbGluay5ocmVmJykKICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluaykKICAgICAgIGxpbmsuY2xpY2soKQogICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChsaW5rLmhyZWYpCiAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspCiAgICAgfSkuY2F0Y2goZXJyPT57CiAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgfSkKICAgIH0sCiAgICBhbGxTc2hvdyhpbnB1dFNob3cpIHsKICAgICAgY29uc29sZS5sb2coJzExMTExMTExJykKICAgICAgaW5wdXRTaG93ICE9IGlucHV0U2hvdzsKICAgICAgbGV0IGFyciA9IFtdCiAgICAgIHRoaXMuZmlsZURhdGEubWFwKChpdGVtID0+IHsKICAgICAgICBpZiAoIWl0ZW0uaXNfZGlyKSB7CiAgICAgICAgICBpdGVtLmlzX3RhZyA9IGlucHV0U2hvdzsKICAgICAgICAgIGFyci5wdXNoKGl0ZW0pOwogICAgICAgIH0KICAgICAgfSkpCiAgICAgIHRoaXMuZmlsZWluZyA9IGFycjsKICAgICAgdmFyIHNpemUgPSAwCiAgICAgIHRoaXMuZmlsZWluZy5mb3JFYWNoKGZpbGUgPT4gewogICAgICAgIHNpemUgKz0gZmlsZS5zaXplCiAgICAgIH0pOwogICAgICB0aGlzLnNpemUgPSBzaXplCiAgICAgIGlmICghaW5wdXRTaG93KSB7CiAgICAgICAgdGhpcy5zaXplID0gMAogICAgICB9CiAgICB9LAogICAgLy/liKDpmaTljZXkuKrmlofku7YKICAgIGRlbGV0ZUJ0bihpdGVtKXsKICAgICAgbGV0IGRhdGE9ewogICAgICAgIHBhdGhzOltdCiAgICAgIH0KICAgICAgZGF0YS5wYXRocy5wdXNoKGl0ZW0ucGF0aCkKICAgICAgZGVsZXRlcyhkYXRhKS50aGVuKHJlc3BvbnNlPT57CiAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5jb2RlPT00MDEpewogICAgICAgICAgIHRoaXMucmVmcmVzaF90b2tlbigpOwogICAgICAgICB9ZWxzZXsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLCfliKDpmaTmiJDlip8nKQogICAgICAgICAgdGhpcy5maWxlTGlzdCgpCiAgICAgICAgICB0aGlzLnNwYWNlcygpCiAgICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBzcGFjZUJ0bihpdGVtKXsKICAgICAgdGhpcy5zcGFjZXNEYXRhPWl0ZW07CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3BhY2VzRGF0YSwndGhpcy5zcGFjZXNEYXRhJykKICAgICAgdGhpcy50b3BOYW1lPSB0aGlzLnNwYWNlc0RhdGEucm9vdC5zdWJzdHJpbmcoMSk7CiAgICAgIHRoaXMucmVudF92b3VjaGVyPXRoaXMuc3BhY2VzRGF0YS52b3VjaGVyCiAgICAgIHRoaXMucHVia2V5PSB0aGlzLnNwYWNlc0RhdGEucHVia2V5OwogICAgICB0aGlzLmZpbGVMaXN0KCkKICAgIH0sCiAgICByZWZyZXNoX3Rva2VuKCl7CiAgICAgIHJlbW92ZVRva2VuKCkKICAgICAgcmVmcmVzaF90b2tlbigpLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICBpZihyZXNwb25zZS5kYXRhLmNvZGU9PTQwMSl7CiAgICAgICAgICB0aGlzLmNvbm5lY3QoKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgIHNldFRva2VuKCByZXNwb25zZS5kYXRhLnRva2VuKTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAgOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"subject\">\n      <!-- <div v-if=\"filejd.jindu>0&&filejd.jindu<100\" style=\"position:fixed;bottom: 100px;width: 200px;height: 40px;right: 10px;box-shadow: 0 0  5px 5px #f9f9f9;display: flex;justify-content: space-between;\n      align-items: center;padding: 0 5px;\n      \">\n         <div style=\"width: 170px;font-size: 12px;\">\n          <div style=\"margin-bottom: 5px;\">{{filejd.name}}</div>\n          <el-progress :percentage=\"filejd.jindu\" :format=\"format\" :show-text=false></el-progress>\n         </div>\n         <div>\n          <img v-if=\"flinuber\" @click=\"qasxfs\" style=\"width:20px;height: 20px;margin-top: 10px;\" src=\"../../assets/images/xx.png\" alt=\"\">\n          <img v-else @click=\"resume\" style=\"width:20px;height: 20px;margin-top: 10px;\" src=\"../../assets/images/start.png\" alt=\"\">\n        </div>\n      </div> -->\n      <div v-if=\"uploadlist.length>0\" style=\"position:fixed;bottom: 100px;right: 10px;\">\n        <div v-for=\"(item,index) in uploadlist \" :key=\"index\"  style=\"width: 200px;height: 40px;box-shadow: 0 0  5px 5px #f9f9f9;display: flex;justify-content: space-between;align-items: center;padding: 0 5px;margin-top: 5px;\">\n         <div style=\"width: 170px;font-size: 12px;\">\n          <div style=\"margin-bottom: 5px;\">{{item.name}}</div>\n          <el-progress :percentage=\"item.rate\" :format=\"format\" :show-text=false></el-progress>\n         </div>\n         <div>\n          <img v-if=\"item.flinuber&&item.rate!=100\" @click=\"qasxfs(item,index)\" style=\"width:20px;height: 20px;margin-top: 10px;\" src=\"../../assets/images/suspend.png\" alt=\"\">\n          <img v-else-if=\"item.flinuber&&item.rate==100\" @click=\"deleteunplode(item,index)\" style=\"width:20px;height: 20px;margin-top: 10px;\" src=\"../../assets/images/xx.png\" alt=\"\">\n          <img v-else @click=\"resume(item,index)\" style=\"width:20px;height: 20px;margin-top: 10px;\" src=\"../../assets/images/start.png\" alt=\"\">\n        </div>\n        </div>\n      </div>\n <!-- 右边部分 -->\n     <div class=\"subjectLeft\">\n      <div class=\"titleName\">U T G</div>\n       <div style=\"width: 100%;margin-top: 30px; cursor: pointer;\" @click=\"spaceBtn(item)\" v-for=\"(item,index) in  spaceName\" :key=\"index\">\n         <div class=\"spaceName\">\n           <div style=\"width: 50px;margin-left: 10px;\">\n             <img class=\"spaceImg\" @click=\"nextBtn(item)\" src=\"../../assets/images/kongjian.png\" alt=\"\">\n            </div>\n           <div style=\"width: 110px;margin-right: 10px;\">\n             <div class=\"spaceText\">{{item.topName}}</div>\n             <div style=\"width:100%;margin:8px 0;\">\n               <el-progress :percentage=\"item.jindu\" :format=\"format\" :show-text=false></el-progress>\n             </div>\n             <div class=\"spaceSize\">{{item.used | parseFileSize}}/{{item.size | parseFileSize }}</div>\n           </div>\n         </div>\n       </div>\n     </div>\n       <!-- 右边部分 -->\n      <div style=\"width: 100%;height: 100vh;\" v-if=\"spaceName.length>0\">\n        <div class=\"fliel-class fl-sbat\" style=\"\">\n            <div class=\"textName\">{{this.topName}}</div>\n            <div class=\"fl-sbat timeClass\">\n              <div>\n                  <span class=\"rentalTime\">Rental time</span>\n                  <span class=\"rentalTime1\">{{spacesData.duration}} Day</span>\n              </div>\n              <div>\n                  <span class=\"rentalTime\">Expiration time</span>\n                  <span class=\"rentalTime1\">{{spacesData.deadline | formatCreateTime}}</span>\n              </div>\n            </div>\n        </div>\n\n      <div class=\"fliel-class\" style=\"display: flex;justify-content: space-between;align-items: center;\">\n        <div class=\"fl-sbat\" v-if=\"spaceName.length>0\">\n          <div class=\"downloadBtn\"  style=\"margin-right: 14px;\" @click=\"handleSubmit\">\n          <img src=\"../../assets/images/upimg.png\" alt=\"\" >\n          <input type=\"file\"\n          @change=\"changefolie\"\n          name=\"avatar\"\n          style=\"display: none;\"\n          ref=\"avatarInput\"\n          multiple = \"multiple\"\n          >\n          <div >Upload</div>\n        </div>\n        <div class=\"downloadBtn\" @click=\"donglod\">\n          <img src=\"../../assets/images/dlimg.png\" alt=\"\">\n          <div>Download</div>\n        </div>\n        <div class=\"downloadBtn\" @click=\"deleteBtns\" style=\"margin-left: 15px;\">\n          <img src=\"../../assets/images/dlimg.png\" alt=\"\">\n          <div>Delete</div>\n        </div>\n        <div class=\"downloadBtn\" @click=\"renovate\" style=\"margin-left: 15px;\">\n          <img src=\"../../assets/images/dlimg.png\" alt=\"\">\n          <div>ClearCache</div>\n        </div>\n        </div>\n        <div v-else class=\"fl-sbat\">\n          <div class=\"downloadBtn\"  style=\"margin-right: 14px;background-color: #999;cursor: not-allowed;\" >\n          <img src=\"../../assets/images/upimg.png\" alt=\"\" >\n          <input type=\"file\"\n          @change=\"changefolie\"\n          name=\"avatar\"\n          style=\"display: none;\"\n          ref=\"avatarInput\"\n          >\n          <div >Upload</div>\n        </div>\n        <div class=\"downloadBtn\"  style=\"background-color: #999;cursor: not-allowed;\">\n          <img src=\"../../assets/images/upimg.png\" alt=\"\">\n          <div>Download</div>\n        </div>\n        <div class=\"downloadBtn\"  style=\"background-color: #999;cursor: not-allowed;\">\n          <img src=\"../../assets/images/upimg.png\" alt=\"\">\n          <div>Delete</div>\n        </div>\n        <div class=\"downloadBtn\" @click=\"renovate\" style=\"margin-left: 15px;\">\n          <img src=\"../../assets/images/dlimg.png\" alt=\"\">\n          <div>ClearCache</div>\n        </div>\n        </div>\n        <div class=\"fl-sbat\">\n          <div style=\"font-size: 12px;color: #999;\">{{ userPks }}</div>\n          <div  style=\"margin-right: 5px;\">\n          <img @click=\"modelBtn(modelShow)\" class=\"switchImg\" src=\"../../assets/images/max1.png\" alt=\"\" v-if=\"!modelShow\">\n          <img class=\"switchImg\" src=\"../../assets/images/max.png\" alt=\"\" v-else>\n        </div>\n         <div  @click=\"modelBtn(modelShow)\">\n          <img  class=\"switchImg\" src=\"../../assets/images/man1.png\" alt=\"\" v-if=\"modelShow\">\n          <img  class=\"switchImg\" src=\"../../assets/images/man.png\" alt=\"\" v-else>\n        </div>\n        </div>\n      </div>\n      <div v-if=\"modelShow\" style=\"width:100%;margin-top: 40px;\">\n        <div class=\"fliel-class\" style=\"display:flex;justify-content: left;align-items: center;margin: auto;\">\n          <input style=\"margin-top: 2px;margin-right: 10px;\" type=\"checkbox\" :value=\"inputShow\" v-model=\"inputShow\"\n            @change=\"allSshow(inputShow)\">\n          <span class=\"fl-text\">Select All</span>\n        </div>\n        <div class=\"fliel-class fl list-class\">\n          <div class=\"list-cn\" v-for=\"(item, index) in fileData\" :key=\"index\">\n            <img v-if=\"item.isdir\" class=\"list-img1\"   src=\"../../assets/images/fle-img.png\" alt=\"\">\n            <img v-else-if=\"item.type==6\" class=\"list-img1\"  src=\"../../assets/images/qita.png\" alt=\"\">\n              <img v-else-if=\"item.type==1\" class=\"list-img1\"  src=\"../../assets/images/fleImg.png\" alt=\"\">\n              <img v-else-if=\"item.type==4\" class=\"list-img1\"  src=\"../../assets/images/wode.png\" alt=\"\">\n              <img v-else-if=\"item.type==5\" class=\"list-img1\"  src=\"../../assets/images/zip.png\" alt=\"\">\n              <img v-else-if=\"item.type==3\" class=\"list-img1\"  src=\"../../assets/images/exe.png\" alt=\"\">\n              <img v-else-if=\"item.type==2\" class=\"list-img1\"   src=\"../../assets/images/mp3.png\" alt=\"\">\n              <img v-else-if=\"item.type==7\" class=\"list-img1\"   src=\"../../assets/images/mp4.png\" alt=\"\">\n            <div style=\"display:flex;align-items: center;\">\n              <input v-if=\"!item.isdir\" style=\"margin-top: 8px;margin-right: 5px;\" type=\"checkbox\" :value=\"item.is_tag\"\n              v-model=\"item.is_tag\" :id=\"index\" @change=\"change(item)\">\n            <span v-else style=\"width: 5px;height: 5px;color: #f4f4f4;\">11</span>\n            <span v-if=\"item.isdir\" class=\"list-text\" @click=\"nextBtn(item)\">{{ item.path }}</span>\n            <span v-else class=\"list-text\" style=\"color: #999;\">{{ item.name }}</span>\n            </div>\n\n          </div>\n        </div>\n      </div>\n      <div v-else class=\"fliel-class\" style=\"\">\n        <el-row style=\"border-bottom: 1px solid #ededed;padding: 10px 0px;border-top: 1px solid #ededed;\">\n          <el-col :span=\"8\" style=\"border-right: 1px solid #f4f4f4;\">\n            <div class=\"\" style=\"display:flex;justify-content: left;align-items: center;\">\n              <input style=\"margin-top: 2px;margin-right: 10px;\" type=\"checkbox\" :value=\"inputShow\" v-model=\"inputShow\"\n                @change=\"allSshow(inputShow)\">\n              <span class=\"fltop-text\"> File name</span>\n            </div>\n          </el-col>\n          <el-col :span=\"6\" style=\"border-right: 1px solid #f4f4f4;\">\n            <div class=\"fltop-text1\" style=\"text-align: center;\">\n              Modification time\n            </div>\n          </el-col>\n          <el-col :span=\"5\" style=\"border-right: 1px solid #f4f4f4;\">\n            <div class=\"fltop-text1\" style=\"text-align:center ;\">\n              Type\n            </div>\n          </el-col>\n          <el-col :span=\"5\" style=\"border-right: 1px solid #f4f4f4;\">\n            <div class=\"fltop-text1\" style=\"text-align:center ;\">\n              Size\n            </div>\n          </el-col>\n        </el-row>\n        <div v-for=\"(item, index) in fileData\" :key=\"index\" @mouseenter=\"onMouseOver(item)\"  @mouseleave=\"onMouseOut(item)\">\n        <el-row  style=\"border-bottom: 1px solid #ededed;padding: 10px 0px;\" >\n          <el-col :span=\"8\">\n            <div v-if=\"!item.isdir\" class=\"\" style=\"display:flex;justify-content: left;cursor: pointer;align-items: center;\">\n              <input v-if=\"!item.isdir\" style=\"margin-right: 10px;\" type=\"checkbox\" :value=\"item.is_tag\"\n                v-model=\"item.is_tag\" :id=\"index\" @change=\"change(item)\">\n                <img v-if=\"item.isdir\" class=\"text-img1\"   src=\"../../assets/images/fle-img.png\" alt=\"\">\n              <img v-else-if=\"item.type==6\" class=\"text-img1\"  src=\"../../assets/images/qita.png\" alt=\"\">\n              <img v-else-if=\"item.type==1\" class=\"text-img1\"  src=\"../../assets/images/fleImg.png\" alt=\"\">\n              <img v-else-if=\"item.type==4\" class=\"text-img1\"  src=\"../../assets/images/wode.png\" alt=\"\">\n              <img v-else-if=\"item.type==5\" class=\"text-img1\"  src=\"../../assets/images/zip.png\" alt=\"\">\n              <img v-else-if=\"item.type==3\" class=\"text-img1\"  src=\"../../assets/images/exe.png\" alt=\"\">\n              <img v-else-if=\"item.type==2\" class=\"text-img1\"   src=\"../../assets/images/mp3.png\" alt=\"\">\n              <img v-else-if=\"item.type==7\" class=\"text-img1\"   src=\"../../assets/images/mp4.png\" alt=\"\">\n              <div class=\"fliel-span\">{{ item.name }}</div>\n            </div>\n            <div v-else class=\"\" style=\"display:flex;justify-content: left;cursor: pointer;align-items: center;\">\n              <img class=\"text-img\" @click=\"nextBtn(item)\" src=\"../../assets/images/fle-img.png\" alt=\"\">\n              <span @click=\"nextBtn(item)\" class=\"fliel-span\">{{ item.name }}</span>\n            </div>\n          </el-col>\n          <el-col  :span=\"6\">\n            <div class=\"\" v-if=\"!item.onMouseShow\" style=\"text-align: center;margin-top: 11px;font-size: 12px;;height: 18px;\">\n               {{ item.mod_time | formatCreateTime }}\n            </div>\n            <div class=\"fl\" v-else style=\"margin-top: 11px;height: 18px;\">\n              <img class=\"switchImg\" @click=\"onDownloadFiles(item)\" src=\"../../assets/images/daonglod.png\" alt=\"\" style=\"margin-right: 10px;\">\n              <img class=\"switchImg\" @click=\"deleteBtn(item)\" src=\"../../assets/images/delete.png\" alt=\"\">\n            </div>\n          </el-col>\n          <el-col :span=\"5\">\n            <div class=\"\" v-if=\"!item.onMouseShow\" style=\"text-align:center ;margin-top: 11px;font-size: 12px;;height: 18px;\">\n             {{ item.name | fileTypeName }}\n            </div>\n          </el-col>\n          <el-col :span=\"5\">\n            <div class=\"\" v-if=\"!item.onMouseShow\" style=\"text-align:center ;margin-top: 11px;font-size: 12px;;height: 18px;\">\n              {{ item.size | parseFileSize }}\n            </div>\n          </el-col>\n        </el-row>\n      </div>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { formatDate } from \"@/utils/date\";\nimport { getToken, setToken, removeToken } from '@/utils/auth'\nimport { login,spaces,fileList,hello,download,deletes,refresh_token,clearCache} from \"@/api/home\";\nimport StreamSaver from 'streamsaver';\nimport { ethers } from 'ethers';\nimport * as tus from \"tus-js-client\";\nvar css =window.location.host\nconst urls=\"http://\"+css.split(':')[0]+ \":\" + window.location.port\n// const urls=\"http://192.168.4.85:8080\"\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      files: [\n        {\n          name:\"测试\",\n          falseType:1,\n        },\n        {\n          name:\"测试2\",\n          falseType:1,\n        }\n      ],\n      modelShow: false,\n      modelText:1,\n      inputShow:false,\n      format(percentage) {\n        return percentage === 100 ? '' : `${percentage}%`;\n      },\n      spaceName:[],\n      spacesData:{},\n      inputtype:'1223',\n      fileData:[],\n      fileing:[],\n      topName:'',\n      filejd:{\n        jindu:0,\n        name:''\n      },\n      userPks:'',\n      rent_voucher:'',\n      pubkey:'',\n      upload:null,\n      flinuber:true,\n      uploadlist:[],\n      elist:[],\n      taskQueue:[]\n    };\n  },\n  created() {\n    if(getToken()==undefined){\n      this.connect();\n\n    }else{\n      this.spaces()\n      this.userPks=localStorage.getItem(\"userPks\");\n    }\n  },\n  filters: {\n    formatCreateTime(time) {\n      let date = new Date(time * 1000);\n      // let date = new Date(time);\n      // console.log(date,'date')\n      let dates = date.getDate()\n      // console.log(dates,'getDate()')\n      return formatDate(date, \"yyyy-MM-dd hh:mm:ss\");\n      // return formatDate(date, \"yyyy-MM-dd\");\n    },\n    parseFileSize(s) {\n      if (s < 1024) {\n        return s + \"g\"\n      } else if (s < 1024 * 1024) {\n        return (s / 1024).toFixed(1) + \"K\"\n      } else if (s < 1024 * 1024 * 1024) {\n        return (s / 1024 / 1024).toFixed(1) + \"M\"\n      }else if(s< 1024 * 1024 * 1024 * 1204){\n        return (s / 1024 / 1024 / 1024).toFixed(1) + \"G\"\n      }else{\n        return (s / 1024 / 1024 / 1024 / 1024).toFixed(1) + \"T\"\n      }\n\n    },\n  fileTypeName(name){\n let index= name.lastIndexOf(\".\");\n// console.log(index,'index')\n//获取后缀\nlet varext = name.substring(index+1);\nif(index==-1){\n  return \"Catalogue\"\n}else{\n  return varext\n}\n  },\n},\n  methods: {\n   // 使用快速排序对数组进行排序\n    deleteunplode(item,index){\n      this.uploadlist.splice(index, 1)\n    },\n    qasxfs(item,index){\n      console.log(this.taskQueue,'this.taskQueue')\n      console.log(index,item,'index')\n      //new更改了\n      this.taskQueue[index].abort()\n      // this.uploadlist.splice(index, 1)\n      item.flinuber=false\n      // this.renovate()\n    },\n    //new更改了\n    resume(item,index){\n       item.flinuber=true\n      this.taskQueue[index].start()\n      // this.startOrResumeUpload(this.taskQueue[index])\n    },\n  //恢复下载\n  startOrResumeUpload(upload){\n    upload.findPreviousUploads().then(function (previousUploads) {\n        // Found previous uploads so we select the first one.\n        console.log(previousUploads,'previousUploads')\n        if (previousUploads.length) {\n            upload.resumeFromPreviousUpload(previousUploads[0])\n        }\n        // Start the upload\n        upload.start()\n    })\n  },\n  //清楚缓存\n  renovate(){\n    this.$confirm('Do you want to continue?', 'PointOut', {\n          confirmButtonText: 'Define',\n          cancelButtonText: 'Cancel',\n          type: 'warning'\n        }).then(() => {\n          this.clearCache()\n        }).catch(() => {\n        });\n  },\n  clearCache(){\n    let data={\n      rent_voucher:this.rent_voucher,\n      pubkey:this.spacesData.pubkey\n    }\n    clearCache(data).then(response=>{\n      this.taskQueue.map(item=>{\n        item.abort()\n      })\n      this.fileList()\n      this.spaces()\n      this.uploadlist=[]\n      this.taskQueue=[]\n      })\n  },\n   //删除文件\n   deleteBtns(){\n    let data={\n        paths:[]\n      }\n    this.fileing.map(item=>{\n      data.paths.push(item.path)\n    })\n      deletes(data).then(response=>{\n        if(response.data.code==401){\n           this.refresh_token();\n         }else{\n          // console.log(response,'删除成功')\n          this.fileList()\n          this.spaces()\n         }\n      })\n    },\n\n\n    modelBtn(modelShow){\n      this.modelShow=!modelShow\n\n    },\n    //检测钱包\n    testing(){\n      // console.log(window.ethereum,'window.ethereum');\n      if (typeof window.ethereum === 'undefined') {\n\t        alert(\"Please install MetaMask.\");\n\n      } else {\n\t// app init code\n    }\n    },\n    //连接钱包\n    connect(){\n     this.testing();\n    //  console.log(\"request_\")\n     ethereum.request({ method: 'eth_requestAccounts' }).then(resbas=>{\n      //  console.log(resbas,'resbas')\n       this.handleAccountsChanged(resbas)\n     }).catch((err) => {\n            if (err.code === 4001) {\n                alert('Please connect to MetaMask.');\n            } else {\n                console.error(err);\n            }\n        });\n    },\n    async handleAccountsChanged(accounts){\n      localStorage.removeItem(\"userPks\");\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      await provider.send(\"eth_requestAccounts\", [])\n      // console.log(provider.provider,'1111111111111')\n      //监听钱包账号切换\n      provider.provider.on('accountsChanged', function (accounts) {\n        console.log(accounts,'accounts')\n        removeToken();\n        location.reload()\n        //  alert('切换账号')\n      })\n      const signer = provider.getSigner(); //获取签名者信息\n      //  console.log(signer,'signer')\n      //钱包地址\n       let userPk =null;\n       userPk= await signer.getAddress();\n       localStorage.setItem(\"userPks\", userPk);\n       this.userPks=localStorage.getItem(\"userPks\");\n      //  console.log(userPk,'userPk')\n       //生成随机数\n       let data=Math.random()*10\n           data=data.toString()\n       let challenge=null\n        hello().then(response=>{\n          data+response.data.challenge\n          challenge=response.data.challenge\n          // console.log(response,'后台给的随机数')\n        })\n       let signature = await signer.signMessage(data)\n      //  console.log(signature,'signature')\n      let account=null\n      if (accounts.length === 0) {\n        alert('Please connect to MetaMask.');\n      \t} else if (accounts[0] !== account) {\n\t       \taccount = accounts[0];\n\t    }\n      //验证登录\n      let datas={\n          data:data,\n          sign:this.getCaption(signature),\n          pubkey:userPk,\n          challenge:challenge\n      }\n      removeToken()\n      // console.log(getToken(),'getToken()')\n        await login(datas).then(response=>{\n        console.log(response,'登录成功')\n        setToken( response.data.token);\n         this.spaces();\n         this.fileList()\n      })\n    },\n    getCaption (obj) {\n    const res = obj.substring(2, obj.length)\n    return res\n    },\n     spaces(){\n      spaces().then(response=>{\n         if(response.data.code==401){\n         this.connect();\n        //  this.spaces();\n         }else if(response.data.code==200){\n        if(response.data.spaces.length>0){\n          // console.log('进来了')\n          let list=[];\n          response.data.spaces.map(item=>{\n          let datalist={\n            created_at:item.created_at,\n            deadline:item.deadline,\n            duration: item.duration,\n            pubkey:item.pubkey,\n            root:item.root,\n            topName:item.root.substring(1),\n            size:item.size,\n            ticket:item.ticket,\n            used:item.used,\n            jindu:parseFloat(item.used) / parseFloat(item.size) * 1000 / 10,\n            voucher:item.voucher.toString()\n          }\n          list.push(datalist)\n        })\n        this.spaceName=list\n        this.rent_voucher= list[0].voucher;\n        this.pubkey= list[0].pubkey;\n        if(this.spacesData.root==\"\"||this.spacesData.root==undefined){\n          this.spacesData=list[0];\n         this.topName= this.spacesData.root.substring(1);\n        }\n        this.fileList()\n        }\n        }else{\n          //  console.log('出去了')\n         }\n      })\n    },\n    // 鼠标移入\n    onMouseOver(item){\n      this.fileData.map((items=>{\n            if(item.path===items.path){\n              item.onMouseShow =!item.onMouseShow\n            }else{\n              items.onMouseShow=false\n            }\n        }))\n    },\n    // 鼠标移出\n    onMouseOut(item){\n      this.fileData.map((items=>{\n            if(item.path===items.path){\n              item.onMouseShow =!item.onMouseShow\n            }else{\n              items.onMouseShow=false\n            }\n        }))\n    },\n   //文件上传\n   handleSubmit(){\n     this.$refs.avatarInput.click()\n   },\n   changefolie(e){\n    console.log(e,'e')\n    this.elist=e.target.files\n      Object.keys(e.target.files).forEach((key)=>{\n      // let size=this.spacesData.size-this.spacesData.used\n      // console.log(size+'剩余空间',e.target.files[key].size+'本次上传的文件大小')\n            // if(e.target.files[key].size>size){\n            //   this.$alert('Out of space and memory 请查看空间是否足够', 'PointOut', {\n            //   confirmButtonText: 'Define',\n            //   callback: action => {\n            //    this.$message({\n            //      type: 'info',\n            //      message:'CancelDownload'\n            //   });\n            //  }\n            //  });\n            //  this.fileList()\n            //  this.spaces()\n            //  return\n            // }else{\n           let uploaddata={\n               name:this.elist[key].name,\n               files:this.elist[key],\n               rate:0,\n               keys:key,\n               flinuber:true\n            }\n           this.uploadlist.push(uploaddata);\n           this.uploads(this.elist[key])\n            // }\n    })\n    this.$refs.avatarInput.value=null;\n   },\n  //  文件上传\n  async uploads(falsede){\n    let that=this\n    let root=that.spacesData.root.substring(1, that.spacesData.root.length)\n    let file=falsede\n    //new\n    //声明局部变量\n    let upload = new tus.Upload(file,{\n        endpoint: urls+'/v1/file/upload'+'?space='+root,\n        headers: {\n         \"Authorization\": 'Bearer'+' '+ getToken()\n        },\n        // retryDelays: [0, 3000, 5000, 10000, 20000],\n        retryDelays: [],\n        metadata: {\n            filename: file.name,\n            targetPath: that.spacesData.root,\n            pubkey: that.spacesData.pubkey\n        },\n        onError: function(error) {\n            console.log(\"Failed because: \" + error)\n            that.$alert('Out of space and memory.The current upload task will fail. Please clear the cache and recreate the task', 'PointOut', {\n            confirmButtonText: 'Define',  \n             }).then(() => {\n            //  console.log('点击了确定')\n            // that.clearCache()\n            })\n             that.uploadlist=[]\n        },\n        onProgress: function(bytesUploaded, bytesTotal) {\n            var percentage = (bytesUploaded / bytesTotal * 100).toFixed(0)//下载进度\n            that.uploadlist.map((item,index)=>{\n              if(item.name==file.name){\n                item.rate=Number(percentage)\n              }\n              if(item.rate==100){\n                setTimeout(()=>{\n                that.fileList()\n                that.spaces();\n                that.uploadlist.splice(index, 1)\n              },3000)\n              }\n            })\n         },\n        onSuccess: function() {\n            console.log(\"Download %s from %s\", upload.file.name, upload.url)\n        }\n    })\n    //new\n    // 每生产一个实例推入队列\n    this.taskQueue.push(upload)\n    upload.start()\n    //  that.upload.start()\n   },\n   removeDuplicateObj(arr) {\n      let obj = {};\n      arr = arr.reduce((newArr, next) => {\n        obj[next.letter] ? \"\" : (obj[next.letter] = true && newArr.push(next));\n        return newArr;\n      }, []);\n      return arr;\n    },\n   //获取文件列表\n   fileList(){\n    console.log(this.spacesData.root,'this.spacesData.root')\n     let data={\n       path:this.spacesData.root\n     }\n    fileList(data).then(response=>{\n      if(response.data.code==401){\n           this.connect();\n         }else{\n          let list=[];\n        response.data.files.map(item=>{\n          let datalist={\n            isdir:item.isdir,\n            name:item.name,\n            path:item.path,\n            size:item.size,\n            type:this.fileType(item.name),\n            mod_time:item.mod_time,\n            is_tag:item.is_tag,\n            onMouseShow:false\n          }\n          list.push(datalist)\n        })\n        this.fileData=list\n        // console.log(this.fileData,'获取的数据列表')\n         }\n    })\n   },\n  //  判断文件类型\n  fileType(name){\nlet index= name.lastIndexOf(\".\");\n//获取后缀\nlet varext = name.substring(index+1);\n if(varext=='jpg'||varext=='png'||varext=='jpeg'||varext=='bmp'||varext=='gif'||varext=='webp'||varext=='psd'||varext=='svg'||varext=='tiff'){\n   return 1\n }else if(varext=='mp3'){\n  return 2\n }else if(varext=='exe'){\n  return 3\n }else if(varext=='word'){\n  return 4\n }else if(varext=='zip'){\n  return 5\n }else if(varext=='mp4'){\n  return 7\n }else{\n  return 6\n }\n  },\n  change(item) {\n      item.is_tag != item.is_tag\n      let arr = [];\n      this.fileData.map((item => {\n        if (!item.is_tag) {\n          this.inputShow = false\n        }\n        if (item.is_tag === true) {\n          arr.push(item)\n        }\n      }))\n      this.fileing = arr\n      // console.log(this.fileing,'this.fileing')\n      if(this.fileing.length==this.fileData.length){\n          this.inputShow=true\n      }else{\n        this.inputShow=false\n      }\n      // var size = 0\n      // this.fileing.forEach(file => {\n      //   size += file.size\n      // });\n      // this.size = size\n    },\n    //下载文件\n    onDownloadFiles(item){\n      let donwloadurl= urls+'/v1/file/download'\n      // \"http://192.168.4.53:8080/v1/file/download\"\n      this.downloadFile(donwloadurl + \"?path=\" + item.path, item.name)\n    },\n    donglod(){\n      let donwloadurl=urls+'/v1/file/download'\n      // \"http://192.168.4.53:8080/v1/file/download\"\n      this.fileing.forEach(file => {\n        this.downloadFile(donwloadurl + \"?path=\" + file.path, file.name)\n      });\n    },\n   downloadFile(url, name) {\n     this.$axios({\n      method: 'get',\n      url:url,\n      headers:{\n        token: 'Bearer'+' ' + getToken(),\n        'Authorization':'Bearer'+' ' + getToken()\n      },\n      responseType: \"blob\"\n     }).then(res=>{\n       const blob =new Blob([res.data]);\n       const link =document.createElement('a')\n       link.download=name\n       link.style.display=\"none\"\n       link.href=URL.createObjectURL(blob)\n       console.log(link.href,'link.href')\n       document.body.appendChild(link)\n       link.click()\n       URL.revokeObjectURL(link.href)\n       document.body.removeChild(link)\n     }).catch(err=>{\n       console.log(err)\n     })\n    },\n    allSshow(inputShow) {\n      console.log('11111111')\n      inputShow != inputShow;\n      let arr = []\n      this.fileData.map((item => {\n        if (!item.is_dir) {\n          item.is_tag = inputShow;\n          arr.push(item);\n        }\n      }))\n      this.fileing = arr;\n      var size = 0\n      this.fileing.forEach(file => {\n        size += file.size\n      });\n      this.size = size\n      if (!inputShow) {\n        this.size = 0\n      }\n    },\n    //删除单个文件\n    deleteBtn(item){\n      let data={\n        paths:[]\n      }\n      data.paths.push(item.path)\n      deletes(data).then(response=>{\n        if(response.data.code==401){\n           this.refresh_token();\n         }else{\n          console.log(response,'删除成功')\n          this.fileList()\n          this.spaces()\n         }\n      })\n    },\n    spaceBtn(item){\n      this.spacesData=item;\n      console.log(this.spacesData,'this.spacesData')\n      this.topName= this.spacesData.root.substring(1);\n      this.rent_voucher=this.spacesData.voucher\n      this.pubkey= this.spacesData.pubkey;\n      this.fileList()\n    },\n    refresh_token(){\n      removeToken()\n      refresh_token().then(response=>{\n        if(response.data.code==401){\n          this.connect();\n        }else{\n          setToken( response.data.token);\n        }\n      })\n    }\n  }\n};\n</script>\n\n<style scoped>\n.subject{\n  width: 100%;\n  display: flex;\n  align-items: center;\n}\n.subjectLeft{\n  width: 228px;\n  height: 100vh;\n  background-color: #2b2b35;\n}\n.titleName{\nwidth: 100%;\ntext-align: center;\ncolor: #fff;\nfont-weight: 900;\nfont-size: 32px;\nmargin-top: 26px;\n}\n.spaceName{\n  width: 160px;\n  height: 78px;\n  border: 2px solid #4B8BFF;\n  margin: auto;\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.spaceImg{\n  width: 28px;\n  height: 28px;\n}\n.spaceText{\n  font-size: 14px;\nfont-family: Microsoft YaHei;\nfont-weight: 400;\ncolor: #323232;\nmargin-bottom:8px;\noverflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n\n}\n.spaceSize{\n  font-size: 11px;\nfont-family: Microsoft YaHei;\nfont-weight: 400;\ncolor: #A5A4A4;\n}\n.fl-sbat{\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.textName{\n  font-size: 18px;\nfont-family: Microsoft YaHei;\nfont-weight: 600;\ncolor: #282828;\n}\n.timeClass{\n  width: 400px;\n  height: 26px;\n  border-radius: 26px;\n  background: #F4f4f4;\n  padding: 5px 8px;\n}\n.rentalTime{\n  font-size: 12px;\nfont-family: Microsoft YaHei;\nfont-weight: 500;\ncolor: #808080;\n}\n.rentalTime1{\n  font-size: 14px;\nfont-family: Microsoft YaHei;\nfont-weight: 500;\ncolor: #025AFA;\n}\n.switchImg{\nwidth: 16px;\nheight: 16px;\n}\n.fltop-text{\n  font-size: 13px;\n  margin-top: 4px;\n}\n.fltop-text1{\n  font-size: 13px;\n  margin-top: 4px;\n}\n.fl{\n  display: flex;\n}\n.conten-top {\n  width: 100%;\n  height: 60px;\n  margin-top: 20px;\n  /* background-color: gray; */\n}\n\n.downloadBtn {\n  width: 100px;\nheight: 26px;\nbackground: #025AFA;\nborder-radius: 13px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  line-height: 40px;\n  font-size: 14px;\n  color: #fff;\n  cursor: pointer;\n}\n\n.promptlyBtn {\n  width: 120px;\n  height: 40px;\n  background: #11af6d;\n  line-height: 40px;\n  font-size: 14px;\n  color: #fff;\n  cursor: pointer;\n  border-radius: 5px;\n  text-align: center;\n}\n\n.downloadBtn img {\n  width: 14px;\n  height: 14px;\n  margin-right: 8px;\n}\n\n.exitBtn {\n  width: 150px;\n  height: 40px;\n  background: #edeef3;\n  color: #2d4379;\n  text-align: center;\n  line-height: 40px;\n  font-size: 14px;\n  border-radius: 5px;\n  margin-left: 5px;\n  cursor: pointer;\n}\n\n.fallback {\n  width: 60%;\n  margin: auto;\n  margin-top: 40px;\n  height: 27px;\n  cursor: pointer;\n}\n\n.fallbacks {\n  width: 80px;\n  background-color: #11af6d;\n  font-size: 14px;\n  padding: 5px 15px;\n  text-align: center;\n  border-radius: 3px;\n  color: #Fff;\n}\n\n.exitBtn:hover {\n  color: #11af6d;\n}\n\n.contenimg {\n  width: 220px;\n  height: 33px;\n  margin-top: 15px;\n  cursor: pointer;\n}\n\n.top-flex {\n  width: 60%;\n  height: 100%;\n  margin: auto;\n  /* border: 1px solid red; */\n  display: flex;\n  justify-content: space-between;\n}\n\n.prText>>>.el-progress__text {\n  color: #fff;\n}\n\n.title {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* margin-top: 20px; */\n}\n\n.title-text {\n  margin-left: 20px;\n  font-size: 28px;\n  color: #fff;\n}\n\n.conten-en {\n  width: 100%;\n  background: #dbba92 url(\"../../assets/images/tag-light.png\")no-repeat;\n  background-size: cover;\n  height: 250px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 20px;\n}\n\n.conten-cs {\n  display: flex;\n  justify-content: space-around;\n  width: 60%;\n  margin: auto;\n}\n\n.conten-tow {\n  display: flex;\n  justify-content: space-between;\n}\n\n.ml {\n  margin-left: 100px;\n}\n\n.rimg {\n  width: 28px;\n  height: 28px;\n  margin-top: 20px;\n}\n\n.name-text {\n  color: #fff;\n  font-weight: 700;\n  font-family: Jost, sans-serif;\n  font-size: 21px;\n  margin-top: 20px;\n}\n\n.mask {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100vh;\n  background: rgba(27, 32, 24, 0.6);\n}\n\n.mask-div {\n  width: 90%;\n  height: 100%;\n  background: #2b2b35;\n  animation: mymove 1s;\n  animation-fill-mode: forwards;\n}\n\n@keyframes mymove {\n  from {\n    /* width: 1%; */\n    /* margin-left: -90%; */\n    transform: translateX(-90%);\n  }\n\n  to {\n    /* width: 85%; */\n    /* margin-left: 0%; */\n    transform: translateX(0%);\n  }\n}\n\n.call {\n  float: right;\n  margin: 10px 7px;\n  width: 30px;\n  height: 30px;\n}\n\n.text-p {\n  width: 100%;\n  text-align: center;\n  color: #fff;\n  font-size: 13px;\n  margin-top: 70px;\n}\n\n.list-class {\n  /* width: 60%; */\n\n  flex-wrap: wrap;\n  margin-top: 30px;\n}\n\n.fliel-class {\n  width: 90%;\n  margin: auto;\n  margin-top: 20px;\n}\n\n.fliel-span {\n  /* margin-top: 11px; */\n  font-size: 12px;\n  margin-left: 5px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n}\n.text-img{\n  width: 30px;\n  height: 30px;\n}\n.text-img1{\n  width: 20px;\n  height: 20px;\n}\n.list-cn {\n  width: 64px;\n  margin-right: 10px;\n  /* border-radius: 10px; */\n  /* border: 1px solid red; */\n  /* box-shadow: 0 10px 30px #c6d1d0; */\n  /* padding-bottom: 20px;\n  margin-bottom: 20px; */\n}\n.list-img {\n  width: 20px;\n  height: 20px;\n  /* border-radius: 10px 10px 0px 0px; */\n  object-fit: cover;\n}\n.list-img1{\n  width: 64px;\n  height: 64px;\n}\n.list-text {\n  width: 88%;\n  margin: auto;\n  color: #1a274e;\n  font-weight: 700;\n  font-family: Jost, sans-serif;\n  font-size: 12px;\n  margin-top: 10px;\n  /* text-decoration: underline; */\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n}\n\n.list-text1 {\n  width: 90%;\n  margin: auto;\n  color: #2d4379;\n  font-size: 15px;\n  font-family: Muli, sans-serif;\n  font-weight: 400;\n  margin-top: 15px;\n}\n\n@-webkit-keyframes mymove {}\n\n@media screen and (max-width:415px) {\n  .title {\n    display: none;\n  }\n\n  .conten-cs {\n    display: block;\n  }\n\n  .promptlyBtn {\n    width: 110%;\n    margin: auto;\n    margin-top: 30px;\n  }\n\n  .ml {\n    margin-left: 0px;\n  }\n\n  .conten-en {\n    height: 350px;\n  }\n\n  .top-flex {\n    width: 90%;\n  }\n\n  .fallback {\n    width: 90%;\n  }\n\n  .name-text {\n    font-size: 13px;\n  }\n\n  .list-class {\n    width: 90%;\n    display: block;\n  }\n\n  .fliel-class {\n    width: 90%;\n  }\n\n  /* .fl-text {\n    font-size: 12px;\n    margin-top: 3px;\n  } */\n\n  .list-cn {\n    width: 100%;\n  }\n\n  .list-img {\n    width: 100%;\n    height: 20px;\n  }\n\n}\n\n@media only screen and (min-width:414px) and (max-width:1050px) {\n  .top-flex {\n    flex-wrap: wrap;\n  }\n\n  .conten-top {\n    height: 120px;\n    /* border: 1px solid red; */\n  }\n\n  .conten-cs {\n    display: block;\n  }\n\n  .promptlyBtn {\n    width: 90%;\n    margin: auto;\n    margin-top: 30px;\n  }\n\n  .rimg {\n    display: none;\n  }\n\n  .list-cn {\n    width: 80%;\n    margin: auto;\n  }\n\n  .list-img {\n    width: 100%;\n    height: 20px;\n  }\n}\n\n@media only screen and (min-width:1050px) and (max-width:1300px) {\n  .list-cn {\n    width: 350px;\n  }\n}\n\n@media only screen and (min-width:1050px) {\n  .rimg {\n    display: none;\n  }\n\n}\n\n@media only screen and (min-width:1300px) {\n  .list-img {\n    height: 20px;\n  }\n}\n\n.name-top-img {\n  width: 80px;\n  height: 80px;\n  border-radius: 40px;\n}\n\n</style>\n"]}]}