{"remainingRequest":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/thread-loader/dist/cjs.js!/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/babel-loader/lib/index.js!/home/tony/work/nas_mydisk/branches/UTG/web/src/store/modules/user.js","dependencies":[{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/src/store/modules/user.js","mtime":1696662095000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/babel.config.js","mtime":1696662090000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/cache-loader/dist/cjs.js","mtime":1696662092000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/thread-loader/dist/cjs.js","mtime":1696662095000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/babel-loader/lib/index.js","mtime":1696662091000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IHsgbG9naW4sIGxvZ291dCwgZ2V0SW5mbyB9IGZyb20gJ0AvYXBpL2xvZ2luJwppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKY29uc3QgdXNlciA9IHsKICBzdGF0ZTogewogICAgdG9rZW46IGdldFRva2VuKCksCiAgICBuYW1lOiAnJywKICAgIGF2YXRhcjogJycsCiAgICByb2xlczogW10KICB9LAogIG11dGF0aW9uczogewogICAgU0VUX1RPS0VOOiAoc3RhdGUsIHRva2VuKSA9PiB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgU0VUX05BTUU6IChzdGF0ZSwgbmFtZSkgPT4gewogICAgICBzdGF0ZS5uYW1lID0gbmFtZTsKICAgIH0sCiAgICBTRVRfQVZBVEFSOiAoc3RhdGUsIGF2YXRhcikgPT4gewogICAgICBzdGF0ZS5hdmF0YXIgPSBhdmF0YXI7CiAgICB9LAogICAgU0VUX1JPTEVTOiAoc3RhdGUsIHJvbGVzKSA9PiB7CiAgICAgIHN0YXRlLnJvbGVzID0gcm9sZXM7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyDnmbvlvZUKICAgIC8vIExvZ2luKHsgY29tbWl0IH0sIHVzZXJJbmZvKSB7CiAgICAvLyAgIGNvbnN0IHVzZXJuYW1lID0gdXNlckluZm8udXNlcm5hbWUudHJpbSgpCiAgICAvLyAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAvLyAgICAgbG9naW4odXNlcm5hbWUsIHVzZXJJbmZvLnBhc3N3b3JkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhCiAgICAvLyAgICAgICBjb25zdCB0b2tlblN0ciA9IGRhdGEudG9rZW5IZWFkK2RhdGEudG9rZW4KICAgIC8vICAgICAgIHNldFRva2VuKHRva2VuU3RyKQogICAgLy8gICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCB0b2tlblN0cikKICAgIC8vICAgICAgIHJlc29sdmUoKQogICAgLy8gICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgIC8vICAgICAgIHJlamVjdChlcnJvcikKICAgIC8vICAgICB9KQogICAgLy8gICB9KQogICAgLy8gfSwKCiAgICAvLyDojrflj5bnlKjmiLfkv6Hmga8KICAgIC8vIEdldEluZm8oeyBjb21taXQsIHN0YXRlIH0pIHsKICAgIC8vICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIC8vICAgICBnZXRJbmZvKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YQogICAgLy8gICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSwn6aaW6aG1JykKICAgIC8vICAgICAgIGlmIChkYXRhLnJvbGVzICYmIGRhdGEucm9sZXMubGVuZ3RoID4gMCkgeyAvLyDpqozor4Hov5Tlm57nmoRyb2xlc+aYr+WQpuaYr+S4gOS4qumdnuepuuaVsOe7hAogICAgLy8gICAgICAgICBjb21taXQoJ1NFVF9ST0xFUycsIGRhdGEucm9sZXMpCiAgICAvLyAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICByZWplY3QoJ2dldEluZm86IHJvbGVzIG11c3QgYmUgYSBub24tbnVsbCBhcnJheSAhJykKICAgIC8vICAgICAgIH0KICAgIC8vICAgICAgIGNvbW1pdCgnU0VUX05BTUUnLCBkYXRhLnVzZXJuYW1lKQogICAgLy8gICAgICAgY29tbWl0KCdTRVRfQVZBVEFSJywgZGF0YS5pY29uKQogICAgLy8gICAgICAgcmVzb2x2ZShyZXNwb25zZSkKICAgIC8vICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAvLyAgICAgICByZWplY3QoZXJyb3IpCiAgICAvLyAgICAgfSkKICAgIC8vICAgfSkKICAgIC8vIH0sCgogICAgLy8g55m75Ye6CiAgICAvLyBMb2dPdXQoeyBjb21taXQsIHN0YXRlIH0pIHsKICAgIC8vICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIC8vICAgICBsb2dvdXQoc3RhdGUudG9rZW4pLnRoZW4oKCkgPT4gewogICAgLy8gICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCAnJykKICAgIC8vICAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgW10pCiAgICAvLyAgICAgICByZW1vdmVUb2tlbigpCiAgICAvLyAgICAgICByZXNvbHZlKCkKICAgIC8vICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAvLyAgICAgICByZWplY3QoZXJyb3IpCiAgICAvLyAgICAgfSkKICAgIC8vICAgfSkKICAgIC8vIH0sCgogICAgLy8g5YmN56uvIOeZu+WHugogICAgLy8gRmVkTG9nT3V0KHsgY29tbWl0IH0pIHsKICAgIC8vICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgLy8gICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgJycpCiAgICAvLyAgICAgcmVtb3ZlVG9rZW4oKQogICAgLy8gICAgIHJlc29sdmUoKQogICAgLy8gICB9KQogICAgLy8gfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgdXNlcjs="},{"version":3,"names":["getToken","setToken","removeToken","user","state","token","name","avatar","roles","mutations","SET_TOKEN","SET_NAME","SET_AVATAR","SET_ROLES","actions"],"sources":["/home/tony/work/nas_mydisk/branches/UTG/web/src/store/modules/user.js"],"sourcesContent":["\n// import { login, logout, getInfo } from '@/api/login'\nimport { getToken, setToken, removeToken } from '@/utils/auth'\n\nconst user = {\n  state: {\n    token: getToken(),\n    name: '',\n    avatar: '',\n    roles: []\n  },\n\n  mutations: {\n    SET_TOKEN: (state, token) => {\n      state.token = token\n    },\n    SET_NAME: (state, name) => {\n      state.name = name\n    },\n    SET_AVATAR: (state, avatar) => {\n      state.avatar = avatar\n    },\n    SET_ROLES: (state, roles) => {\n      state.roles = roles\n    }\n  },\n\n  actions: {\n    // 登录\n    // Login({ commit }, userInfo) {\n    //   const username = userInfo.username.trim()\n    //   return new Promise((resolve, reject) => {\n    //     login(username, userInfo.password).then(response => {\n    //       const data = response.data\n    //       const tokenStr = data.tokenHead+data.token\n    //       setToken(tokenStr)\n    //       commit('SET_TOKEN', tokenStr)\n    //       resolve()\n    //     }).catch(error => {\n    //       reject(error)\n    //     })\n    //   })\n    // },\n\n    // 获取用户信息\n    // GetInfo({ commit, state }) {\n    //   return new Promise((resolve, reject) => {\n    //     getInfo().then(response => {\n    //       const data = response.data\n    //       console.log(response.data,'首页')\n    //       if (data.roles && data.roles.length > 0) { // 验证返回的roles是否是一个非空数组\n    //         commit('SET_ROLES', data.roles)\n    //       } else {\n    //         reject('getInfo: roles must be a non-null array !')\n    //       }\n    //       commit('SET_NAME', data.username)\n    //       commit('SET_AVATAR', data.icon)\n    //       resolve(response)\n    //     }).catch(error => {\n    //       reject(error)\n    //     })\n    //   })\n    // },\n\n    // 登出\n    // LogOut({ commit, state }) {\n    //   return new Promise((resolve, reject) => {\n    //     logout(state.token).then(() => {\n    //       commit('SET_TOKEN', '')\n    //       commit('SET_ROLES', [])\n    //       removeToken()\n    //       resolve()\n    //     }).catch(error => {\n    //       reject(error)\n    //     })\n    //   })\n    // },\n\n    // 前端 登出\n    // FedLogOut({ commit }) {\n    //   return new Promise(resolve => {\n    //     commit('SET_TOKEN', '')\n    //     removeToken()\n    //     resolve()\n    //   })\n    // }\n  }\n}\n\nexport default user\n"],"mappings":"AACA;AACA,SAASA,QAAQ,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,cAAc;AAE9D,MAAMC,IAAI,GAAG;EACXC,KAAK,EAAE;IACLC,KAAK,EAAEL,QAAQ,EAAE;IACjBM,IAAI,EAAE,EAAE;IACRC,MAAM,EAAE,EAAE;IACVC,KAAK,EAAE;EACT,CAAC;EAEDC,SAAS,EAAE;IACTC,SAAS,EAAE,CAACN,KAAK,EAAEC,KAAK,KAAK;MAC3BD,KAAK,CAACC,KAAK,GAAGA,KAAK;IACrB,CAAC;IACDM,QAAQ,EAAE,CAACP,KAAK,EAAEE,IAAI,KAAK;MACzBF,KAAK,CAACE,IAAI,GAAGA,IAAI;IACnB,CAAC;IACDM,UAAU,EAAE,CAACR,KAAK,EAAEG,MAAM,KAAK;MAC7BH,KAAK,CAACG,MAAM,GAAGA,MAAM;IACvB,CAAC;IACDM,SAAS,EAAE,CAACT,KAAK,EAAEI,KAAK,KAAK;MAC3BJ,KAAK,CAACI,KAAK,GAAGA,KAAK;IACrB;EACF,CAAC;EAEDM,OAAO,EAAE;IACP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA;AAEJ,CAAC;AAED,eAAeX,IAAI"}]}