{"remainingRequest":"C:\\Users\\fjf\\Desktop\\mimi\\mimi-net\\fileRun\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\fjf\\Desktop\\mimi\\mimi-net\\fileRun\\src\\views\\layout\\mixin\\ResizeHandler.js","dependencies":[{"path":"C:\\Users\\fjf\\Desktop\\mimi\\mimi-net\\fileRun\\src\\views\\layout\\mixin\\ResizeHandler.js","mtime":1602234028000},{"path":"C:\\Users\\fjf\\Desktop\\mimi\\mimi-net\\fileRun\\babel.config.js","mtime":1623402045953},{"path":"C:\\Users\\fjf\\Desktop\\mimi\\mimi-net\\fileRun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617866813583},{"path":"C:\\Users\\fjf\\Desktop\\mimi\\mimi-net\\fileRun\\node_modules\\babel-loader\\lib\\index.js","mtime":1668408460122}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpjb25zdCB7CiAgYm9keQp9ID0gZG9jdW1lbnQ7CmNvbnN0IFdJRFRIID0gMTAyNDsKY29uc3QgUkFUSU8gPSAzOwpleHBvcnQgZGVmYXVsdCB7CiAgd2F0Y2g6IHsKICAgICRyb3V0ZShyb3V0ZSkgewogICAgICBpZiAodGhpcy5kZXZpY2UgPT09ICdtb2JpbGUnICYmIHRoaXMuc2lkZWJhci5vcGVuZWQpIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnQ2xvc2VTaWRlQmFyJywgewogICAgICAgICAgd2l0aG91dEFuaW1hdGlvbjogZmFsc2UKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgYmVmb3JlTW91bnQoKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemVIYW5kbGVyKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zdCBpc01vYmlsZSA9IHRoaXMuaXNNb2JpbGUoKTsKICAgIGlmIChpc01vYmlsZSkgewogICAgICBzdG9yZS5kaXNwYXRjaCgnVG9nZ2xlRGV2aWNlJywgJ21vYmlsZScpOwogICAgICBzdG9yZS5kaXNwYXRjaCgnQ2xvc2VTaWRlQmFyJywgewogICAgICAgIHdpdGhvdXRBbmltYXRpb246IHRydWUKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpc01vYmlsZSgpIHsKICAgICAgY29uc3QgcmVjdCA9IGJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHJldHVybiByZWN0LndpZHRoIC0gUkFUSU8gPCBXSURUSDsKICAgIH0sCiAgICByZXNpemVIYW5kbGVyKCkgewogICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikgewogICAgICAgIGNvbnN0IGlzTW9iaWxlID0gdGhpcy5pc01vYmlsZSgpOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdUb2dnbGVEZXZpY2UnLCBpc01vYmlsZSA/ICdtb2JpbGUnIDogJ2Rlc2t0b3AnKTsKICAgICAgICBpZiAoaXNNb2JpbGUpIHsKICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdDbG9zZVNpZGVCYXInLCB7CiAgICAgICAgICAgIHdpdGhvdXRBbmltYXRpb246IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["store","body","document","WIDTH","RATIO","watch","$route","route","device","sidebar","opened","dispatch","withoutAnimation","beforeMount","window","addEventListener","resizeHandler","mounted","isMobile","methods","rect","getBoundingClientRect","width","hidden"],"sources":["C:/Users/fjf/Desktop/mimi/mimi-net/fileRun/src/views/layout/mixin/ResizeHandler.js"],"sourcesContent":["import store from '@/store'\r\n\r\nconst { body } = document\r\nconst WIDTH = 1024\r\nconst RATIO = 3\r\n\r\nexport default {\r\n  watch: {\r\n    $route(route) {\r\n      if (this.device === 'mobile' && this.sidebar.opened) {\r\n        store.dispatch('CloseSideBar', { withoutAnimation: false })\r\n      }\r\n    }\r\n  },\r\n  beforeMount() {\r\n    window.addEventListener('resize', this.resizeHandler)\r\n  },\r\n  mounted() {\r\n    const isMobile = this.isMobile()\r\n    if (isMobile) {\r\n      store.dispatch('ToggleDevice', 'mobile')\r\n      store.dispatch('CloseSideBar', { withoutAnimation: true })\r\n    }\r\n  },\r\n  methods: {\r\n    isMobile() {\r\n      const rect = body.getBoundingClientRect()\r\n      return rect.width - RATIO < WIDTH\r\n    },\r\n    resizeHandler() {\r\n      if (!document.hidden) {\r\n        const isMobile = this.isMobile()\r\n        store.dispatch('ToggleDevice', isMobile ? 'mobile' : 'desktop')\r\n\r\n        if (isMobile) {\r\n          store.dispatch('CloseSideBar', { withoutAnimation: true })\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,SAAS;AAE3B,MAAM;EAAEC;AAAK,CAAC,GAAGC,QAAQ;AACzB,MAAMC,KAAK,GAAG,IAAI;AAClB,MAAMC,KAAK,GAAG,CAAC;AAEf,eAAe;EACbC,KAAK,EAAE;IACLC,MAAM,CAACC,KAAK,EAAE;MACZ,IAAI,IAAI,CAACC,MAAM,KAAK,QAAQ,IAAI,IAAI,CAACC,OAAO,CAACC,MAAM,EAAE;QACnDV,KAAK,CAACW,QAAQ,CAAC,cAAc,EAAE;UAAEC,gBAAgB,EAAE;QAAM,CAAC,CAAC;MAC7D;IACF;EACF,CAAC;EACDC,WAAW,GAAG;IACZC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,aAAa,CAAC;EACvD,CAAC;EACDC,OAAO,GAAG;IACR,MAAMC,QAAQ,GAAG,IAAI,CAACA,QAAQ,EAAE;IAChC,IAAIA,QAAQ,EAAE;MACZlB,KAAK,CAACW,QAAQ,CAAC,cAAc,EAAE,QAAQ,CAAC;MACxCX,KAAK,CAACW,QAAQ,CAAC,cAAc,EAAE;QAAEC,gBAAgB,EAAE;MAAK,CAAC,CAAC;IAC5D;EACF,CAAC;EACDO,OAAO,EAAE;IACPD,QAAQ,GAAG;MACT,MAAME,IAAI,GAAGnB,IAAI,CAACoB,qBAAqB,EAAE;MACzC,OAAOD,IAAI,CAACE,KAAK,GAAGlB,KAAK,GAAGD,KAAK;IACnC,CAAC;IACDa,aAAa,GAAG;MACd,IAAI,CAACd,QAAQ,CAACqB,MAAM,EAAE;QACpB,MAAML,QAAQ,GAAG,IAAI,CAACA,QAAQ,EAAE;QAChClB,KAAK,CAACW,QAAQ,CAAC,cAAc,EAAEO,QAAQ,GAAG,QAAQ,GAAG,SAAS,CAAC;QAE/D,IAAIA,QAAQ,EAAE;UACZlB,KAAK,CAACW,QAAQ,CAAC,cAAc,EAAE;YAAEC,gBAAgB,EAAE;UAAK,CAAC,CAAC;QAC5D;MACF;IACF;EACF;AACF,CAAC"}]}