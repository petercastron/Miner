{"remainingRequest":"F:\\viteFiles\\teston\\node_modules\\babel-loader\\lib\\index.js!F:\\viteFiles\\teston\\src\\permission.js","dependencies":[{"path":"F:\\viteFiles\\teston\\src\\permission.js","mtime":1655174359723},{"path":"F:\\viteFiles\\teston\\babel.config.js","mtime":1623402045953},{"path":"F:\\viteFiles\\teston\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617866813583},{"path":"F:\\viteFiles\\teston\\node_modules\\babel-loader\\lib\\index.js","mtime":1668408460122}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3JlJzsKaW1wb3J0IE5Qcm9ncmVzcyBmcm9tICducHJvZ3Jlc3MnOyAvLyBQcm9ncmVzcyDov5vluqbmnaEKaW1wb3J0ICducHJvZ3Jlc3MvbnByb2dyZXNzLmNzcyc7IC8vIFByb2dyZXNzIOi/m+W6puadoeagt+W8jwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsgLy8g6aqM5p2DCmNvbnN0IHdoaXRlTGlzdCA9IFsnL2xvZ2luJ107IC8vIOS4jemHjeWumuWQkeeZveWQjeWNlQpyb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHsKICAvLyBOUHJvZ3Jlc3Muc3RhcnQoKTsKICBuZXh0KCk7CiAgLy8gaWYgKGdldFRva2VuKCkpIHsKICAvLyAgIGlmICh0by5wYXRoID09PSAnL2xvZ2luJykgewogIC8vICAgICBuZXh0KHsgcGF0aDogJy8nIH0pCiAgLy8gICAgIGNvbnNvbGUubG9nKCflnKjov5nph4wnKQogIC8vICAgICBOUHJvZ3Jlc3MuZG9uZSgpIC8vIGlmIGN1cnJlbnQgcGFnZSBpcyBkYXNoYm9hcmQgd2lsbCBub3QgdHJpZ2dlcglhZnRlckVhY2ggaG9vaywgc28gbWFudWFsbHkgaGFuZGxlIGl0CiAgLy8gICB9IGVsc2UgewogIC8vICAgICBjb25zb2xlLmxvZygn5Zyo6L+Z6YeMJykKICAvLyAgICAgaWYgKHN0b3JlLmdldHRlcnMucm9sZXMubGVuZ3RoID09PSAwKSB7CiAgLy8gICAgICAgc3RvcmUuZGlzcGF0Y2goJ0dldEluZm8nKS50aGVuKHJlcyA9PiB7IC8vIOaLieWPlueUqOaIt+S/oeaBrwogIC8vICAgICAgICAgLy8gbmV4dCgpCiAgLy8gICAgICAgICBjb25zb2xlLmxvZyhyZXMsJ+mhtemdouWKoOi9vScpCiAgLy8gICAgICAgICBsZXQgbWVudXM9cmVzLmRhdGEubWVudXM7CiAgLy8gICAgICAgICBsZXQgdXNlcm5hbWU9cmVzLmRhdGEudXNlcm5hbWU7CiAgLy8gICAgICAgICBzdG9yZS5kaXNwYXRjaCgnR2VuZXJhdGVSb3V0ZXMnLCB7IG1lbnVzLHVzZXJuYW1lIH0pLnRoZW4oKCkgPT4geyAvLyDnlJ/miJDlj6/orr/pl67nmoTot6/nlLHooagKICAvLyAgICAgICAgICAgcm91dGVyLmFkZFJvdXRlcyhzdG9yZS5nZXR0ZXJzLmFkZFJvdXRlcnMpOyAvLyDliqjmgIHmt7vliqDlj6/orr/pl67ot6/nlLHooagKICAvLyAgICAgICAgICAgbmV4dCh7IC4uLnRvLCByZXBsYWNlOiB0cnVlIH0pCiAgLy8gICAgICAgICB9KQogIC8vICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAvLyAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdGZWRMb2dPdXQnKS50aGVuKCgpID0+IHsKICAvLyAgICAgICAgICAgTWVzc2FnZS5lcnJvcihlcnIgfHwgJ1ZlcmlmaWNhdGlvbiBmYWlsZWQsIHBsZWFzZSBsb2dpbiBhZ2FpbicpCiAgLy8gICAgICAgICAgIG5leHQoeyBwYXRoOiAnLycgfSkKICAvLyAgICAgICAgIH0pCiAgLy8gICAgICAgfSkKICAvLyAgICAgfSBlbHNlIHsKICAvLyAgICAgICBuZXh0KCkKICAvLyAgICAgfQogIC8vICAgfQogIC8vIH0gZWxzZSB7CiAgLy8gICBpZiAod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgIT09IC0xKSB7CiAgLy8gICAgIG5leHQoKQogIC8vICAgfSBlbHNlIHsKICAvLyAgICAgbmV4dCgnL2hvbWUnKQogIC8vICAgICBjb25zb2xlLmxvZygn5Zyo6L+Z6YeMMScpCiAgLy8gICAgIE5Qcm9ncmVzcy5kb25lKCkKICAvLyAgIH0KICAvLyB9Cn0pOwoKcm91dGVyLmFmdGVyRWFjaCgoKSA9PiB7CiAgTlByb2dyZXNzLmRvbmUoKTsgLy8g57uT5p2fUHJvZ3Jlc3MKfSk7"},{"version":3,"names":["router","store","NProgress","Message","getToken","whiteList","beforeEach","to","from","next","afterEach","done"],"sources":["F:/viteFiles/teston/src/permission.js"],"sourcesContent":["\r\nimport router from './router'\r\nimport store from './store'\r\nimport NProgress from 'nprogress' // Progress 进度条\r\nimport 'nprogress/nprogress.css'// Progress 进度条样式\r\nimport { Message } from 'element-ui'\r\nimport { getToken } from '@/utils/auth' // 验权\r\nconst whiteList = ['/login'] // 不重定向白名单\r\nrouter.beforeEach((to, from, next) => {\r\n  // NProgress.start();\r\n  next()\r\n  // if (getToken()) {\r\n  //   if (to.path === '/login') {\r\n  //     next({ path: '/' })\r\n  //     console.log('在这里')\r\n  //     NProgress.done() // if current page is dashboard will not trigger\tafterEach hook, so manually handle it\r\n  //   } else {\r\n  //     console.log('在这里')\r\n  //     if (store.getters.roles.length === 0) {\r\n  //       store.dispatch('GetInfo').then(res => { // 拉取用户信息\r\n  //         // next()\r\n  //         console.log(res,'页面加载')\r\n  //         let menus=res.data.menus;\r\n  //         let username=res.data.username;\r\n  //         store.dispatch('GenerateRoutes', { menus,username }).then(() => { // 生成可访问的路由表\r\n  //           router.addRoutes(store.getters.addRouters); // 动态添加可访问路由表\r\n  //           next({ ...to, replace: true })\r\n  //         })\r\n  //       }).catch((err) => {\r\n  //         store.dispatch('FedLogOut').then(() => {\r\n  //           Message.error(err || 'Verification failed, please login again')\r\n  //           next({ path: '/' })\r\n  //         })\r\n  //       })\r\n  //     } else {\r\n  //       next()\r\n  //     }\r\n  //   }\r\n  // } else {\r\n  //   if (whiteList.indexOf(to.path) !== -1) {\r\n  //     next()\r\n  //   } else {\r\n  //     next('/home')\r\n  //     console.log('在这里1')\r\n  //     NProgress.done()\r\n  //   }\r\n  // }\r\n})\r\n\r\nrouter.afterEach(() => {\r\n  NProgress.done() // 结束Progress\r\n})\r\n"],"mappings":"AACA,OAAOA,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,SAAS,MAAM,WAAW,EAAC;AAClC,OAAO,yBAAyB;AAChC,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,QAAQ,QAAQ,cAAc,EAAC;AACxC,MAAMC,SAAS,GAAG,CAAC,QAAQ,CAAC,EAAC;AAC7BL,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC;EACAA,IAAI,EAAE;EACN;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACF,CAAC,CAAC;;AAEFT,MAAM,CAACU,SAAS,CAAC,MAAM;EACrBR,SAAS,CAACS,IAAI,EAAE,EAAC;AACnB,CAAC,CAAC"}]}