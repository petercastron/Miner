{"remainingRequest":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/thread-loader/dist/cjs.js!/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/babel-loader/lib/index.js!/home/tony/work/nas_mydisk/branches/UTG/web/src/views/layout/mixin/ResizeHandler.js","dependencies":[{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/src/views/layout/mixin/ResizeHandler.js","mtime":1696662095000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/babel.config.js","mtime":1696662090000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/cache-loader/dist/cjs.js","mtime":1696662092000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/thread-loader/dist/cjs.js","mtime":1696662095000},{"path":"/home/tony/work/nas_mydisk/branches/UTG/web/node_modules/babel-loader/lib/index.js","mtime":1696662091000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpjb25zdCB7CiAgYm9keQp9ID0gZG9jdW1lbnQ7CmNvbnN0IFdJRFRIID0gMTAyNDsKY29uc3QgUkFUSU8gPSAzOwpleHBvcnQgZGVmYXVsdCB7CiAgd2F0Y2g6IHsKICAgICRyb3V0ZShyb3V0ZSkgewogICAgICBpZiAodGhpcy5kZXZpY2UgPT09ICdtb2JpbGUnICYmIHRoaXMuc2lkZWJhci5vcGVuZWQpIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnQ2xvc2VTaWRlQmFyJywgewogICAgICAgICAgd2l0aG91dEFuaW1hdGlvbjogZmFsc2UKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgYmVmb3JlTW91bnQoKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemVIYW5kbGVyKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zdCBpc01vYmlsZSA9IHRoaXMuaXNNb2JpbGUoKTsKICAgIGlmIChpc01vYmlsZSkgewogICAgICBzdG9yZS5kaXNwYXRjaCgnVG9nZ2xlRGV2aWNlJywgJ21vYmlsZScpOwogICAgICBzdG9yZS5kaXNwYXRjaCgnQ2xvc2VTaWRlQmFyJywgewogICAgICAgIHdpdGhvdXRBbmltYXRpb246IHRydWUKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpc01vYmlsZSgpIHsKICAgICAgY29uc3QgcmVjdCA9IGJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHJldHVybiByZWN0LndpZHRoIC0gUkFUSU8gPCBXSURUSDsKICAgIH0sCiAgICByZXNpemVIYW5kbGVyKCkgewogICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikgewogICAgICAgIGNvbnN0IGlzTW9iaWxlID0gdGhpcy5pc01vYmlsZSgpOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdUb2dnbGVEZXZpY2UnLCBpc01vYmlsZSA/ICdtb2JpbGUnIDogJ2Rlc2t0b3AnKTsKICAgICAgICBpZiAoaXNNb2JpbGUpIHsKICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdDbG9zZVNpZGVCYXInLCB7CiAgICAgICAgICAgIHdpdGhvdXRBbmltYXRpb246IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["store","body","document","WIDTH","RATIO","watch","$route","route","device","sidebar","opened","dispatch","withoutAnimation","beforeMount","window","addEventListener","resizeHandler","mounted","isMobile","methods","rect","getBoundingClientRect","width","hidden"],"sources":["/home/tony/work/nas_mydisk/branches/UTG/web/src/views/layout/mixin/ResizeHandler.js"],"sourcesContent":["import store from '@/store'\n\nconst { body } = document\nconst WIDTH = 1024\nconst RATIO = 3\n\nexport default {\n  watch: {\n    $route(route) {\n      if (this.device === 'mobile' && this.sidebar.opened) {\n        store.dispatch('CloseSideBar', { withoutAnimation: false })\n      }\n    }\n  },\n  beforeMount() {\n    window.addEventListener('resize', this.resizeHandler)\n  },\n  mounted() {\n    const isMobile = this.isMobile()\n    if (isMobile) {\n      store.dispatch('ToggleDevice', 'mobile')\n      store.dispatch('CloseSideBar', { withoutAnimation: true })\n    }\n  },\n  methods: {\n    isMobile() {\n      const rect = body.getBoundingClientRect()\n      return rect.width - RATIO < WIDTH\n    },\n    resizeHandler() {\n      if (!document.hidden) {\n        const isMobile = this.isMobile()\n        store.dispatch('ToggleDevice', isMobile ? 'mobile' : 'desktop')\n\n        if (isMobile) {\n          store.dispatch('CloseSideBar', { withoutAnimation: true })\n        }\n      }\n    }\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,SAAS;AAE3B,MAAM;EAAEC;AAAK,CAAC,GAAGC,QAAQ;AACzB,MAAMC,KAAK,GAAG,IAAI;AAClB,MAAMC,KAAK,GAAG,CAAC;AAEf,eAAe;EACbC,KAAK,EAAE;IACLC,MAAM,CAACC,KAAK,EAAE;MACZ,IAAI,IAAI,CAACC,MAAM,KAAK,QAAQ,IAAI,IAAI,CAACC,OAAO,CAACC,MAAM,EAAE;QACnDV,KAAK,CAACW,QAAQ,CAAC,cAAc,EAAE;UAAEC,gBAAgB,EAAE;QAAM,CAAC,CAAC;MAC7D;IACF;EACF,CAAC;EACDC,WAAW,GAAG;IACZC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,aAAa,CAAC;EACvD,CAAC;EACDC,OAAO,GAAG;IACR,MAAMC,QAAQ,GAAG,IAAI,CAACA,QAAQ,EAAE;IAChC,IAAIA,QAAQ,EAAE;MACZlB,KAAK,CAACW,QAAQ,CAAC,cAAc,EAAE,QAAQ,CAAC;MACxCX,KAAK,CAACW,QAAQ,CAAC,cAAc,EAAE;QAAEC,gBAAgB,EAAE;MAAK,CAAC,CAAC;IAC5D;EACF,CAAC;EACDO,OAAO,EAAE;IACPD,QAAQ,GAAG;MACT,MAAME,IAAI,GAAGnB,IAAI,CAACoB,qBAAqB,EAAE;MACzC,OAAOD,IAAI,CAACE,KAAK,GAAGlB,KAAK,GAAGD,KAAK;IACnC,CAAC;IACDa,aAAa,GAAG;MACd,IAAI,CAACd,QAAQ,CAACqB,MAAM,EAAE;QACpB,MAAML,QAAQ,GAAG,IAAI,CAACA,QAAQ,EAAE;QAChClB,KAAK,CAACW,QAAQ,CAAC,cAAc,EAAEO,QAAQ,GAAG,QAAQ,GAAG,SAAS,CAAC;QAE/D,IAAIA,QAAQ,EAAE;UACZlB,KAAK,CAACW,QAAQ,CAAC,cAAc,EAAE;YAAEC,gBAAgB,EAAE;UAAK,CAAC,CAAC;QAC5D;MACF;IACF;EACF;AACF,CAAC"}]}